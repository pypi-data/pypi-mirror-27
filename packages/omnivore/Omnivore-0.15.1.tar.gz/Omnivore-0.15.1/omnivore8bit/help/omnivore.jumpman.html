
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Jumpman Level Editor</title>





<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
</head>
<body>
<div id="titleLine">
<center><a href="https://playermissile.com/omnivore/"><img src="_static/doc-logo.png" alt="Omnivore XL, the 8-bit Binary Editor" /></a></center>
<hr />
</div>
<a name="jumpman-level-editor">
<h1>Jumpman Level Editor</h1>
<div class="toctree-wrapper compound">
</div>
<a name="overview"></a>
<h2>Overview</h2>
<p>This Jumpman level editor is a complete solution for creating new levels
for this all-time-classic game.</p>
<p>Open Omnivore and choose <code class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">New</span> <span class="pre">-&gt;</span> <span class="pre">Jumpman</span> <span class="pre">Level</span></code> and you’ll see a
very simple level definition. You can add to that by clicking one of the
draw icons in the toolbar and drawing in the main window. By clicking on
the arrow icon in the toolbar you can select existing items and drag them
around; you can cut, copy and paste the selected items, and more. Change
the level settings like the level name and number of bullets in the right
hand panel.</p>
<p>Tips:</p>
<ul class="simple">
<li>Only one bomb per grid square</li>
<li>Use ramps that slope up or down by only one pixel per block</li>
</ul>
<p>Girders can be placed at any position, but note that Jumpman can only
fearlessly navigate the horizontal girders and ramps that are sloped up or
down by one pixel per block. Ramps that slope up more than that can be
(carefully) climbed, but down-slopes of more than one pixel will trip up
and kill poor Jumpman. It’s not recommended to use more than one pixel
slope up or down, but I have left the feature in the editor just in case
someone comes up with a use for it.</p>
<p>Ladders can only be placed at even pixel columns (as measured from the left
side), and are further limited in that only 12 unique columns can be used.
Ladders can be placed above and below one another in the same column
without counting against the 12 column limit. The number of columns of
ladders is shown in the <code class="docutils literal"><span class="pre">Level</span> <span class="pre">Data</span></code> window.</p>
<p>Downropes can likewise only be placed at even pixel columns, and are
limited to 6 unique column positions. As with ladders, multiple downropes
can be placed in the same column without counting against that limit. The
number of downropes is also shown in the <code class="docutils literal"><span class="pre">Level</span> <span class="pre">Data</span></code> window.</p>
<p>Upropes are not limited in either pixel columns or number of unique column
positions, so knock yourself out.</p>
<p>The object of the game is to collect bombs, so be sure to place at least
one bomb or the level will end immediately when you try to play it. When
you place bombs, you’ll notice a grid that appears in the main window.
Thick red borders between each grid cell denotes invalid bomb locations, so
place bombs only where they don’t touch any of the red cell borders. (Due
to a speed optimization in the code, the game can crash when Jumpman
collects a bomb that is touching any part of the red shaded area.) Only one
bomb may be placed per grid square.</p>
<p>Finally, you must set Jumpman’s respawn position by selecting the the
Jumpman figure icon on the toolbar. Place the white square at the desired
location. Typically, Jumpman will be placed on a girder, but other starting
positions are possible. If the bottom of the square overlaps a girder,
Jumpman will climb up. Note that Jumpman must not fall more than one pixel;
more than that results in death.</p>
<p>To playtest your level: choose <code class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Save</span> <span class="pre">As</span></code>, give it a filename with
the <code class="docutils literal"><span class="pre">.atr</span></code> extension, and run it in your favorite emulator. You can also
set up Omnivore to run an emulator directly when you press F5; go to the
<code class="docutils literal"><span class="pre">Disk</span> <span class="pre">Image</span> <span class="pre">-&gt;</span> <span class="pre">Emulators</span> <span class="pre">-&gt;</span> <span class="pre">Edit</span> <span class="pre">Emulators...</span></code> entry to set up the
emulator for your platform.</p>
<p>For more complicated levels, Jumpman has a feature where it will draw new
items or erase existing ones when you collect a bomb. To create a level
using this feature, use the <code class="docutils literal"><span class="pre">Trigger</span> <span class="pre">Painting</span></code> panel to select one of the
bombs (they are listed by their x and y coordinates). The level will fade
into the background and you can paint more items in the main window.
Everything you draw (or erase) here will only get triggered when Jumpman
collects that bomb. You can even cascade triggers by adding more bombs and
selecting the new bombs in the trigger painting panel. Bombs will be
indented to show the parent/child relationship when there are multiple
levels of nesting. Select the <code class="docutils literal"><span class="pre">Main</span> <span class="pre">Level</span></code> entry to paint on the normal
level definition.</p>
<a name="advanced-levels-with-custom-code"></a>
<h3>Advanced Levels With Custom Code</h3>
<p>Omnivore now has in integrated <a class="reference external" href="http://mixinc.net/atari/mac65.htm" target="_blank">MAC/65 compatible</a> assembler that recognizes specific
keywords in your assembly code and puts them in the correct spots in your
Jumpman level definition.</p>
<p>You will need to edit the assembly source with your favorite text editor
and then use the <code class="docutils literal"><span class="pre">Jumpman</span> <span class="pre">-&gt;</span> <span class="pre">Custom</span> <span class="pre">Code...</span></code> menu item to add the source
file to your level. After that it will remember the file when you load the
level again. Be sure the source code is in the same directory as the .atr
image. If you move the .atr file to a new place, be sure to copy your
assembly file as well.</p>
<p>The assembler recognizes certain labels in your assembly code. If any start
with <code class="docutils literal"><span class="pre">trigger</span></code>, those labels will be available as targets for peanut
collection. You can right click on peanuts and set their trigger function
to any of those in the list.</p>
<p>There are special vectors that Omnivore knows about; see the section in the
<a class="reference external" href="http://playermissile.com/jumpman/notes.html#h.s0ullubzr0vv" target="_blank">Jumpman Reverse Engineering Notes</a>.</p>
<p>If you give your code any of those labels:</p>
<ul class="simple">
<li>vbi1</li>
<li>vbi2</li>
<li>vbi3</li>
<li>vbi4</li>
<li>dead_begin</li>
<li>dead_at_bottom</li>
<li>dead_falling</li>
<li>out_of_lives</li>
<li>level_complete</li>
<li>collect_callback</li>
</ul>
<p>then Omnivore will put the vector for your subroutine in the right place in
the level definition so that your routine gets automatically called. See
the reverse engineering notes for more details on what each of the labels
means.</p>
<p>There’s also one last special label: <code class="docutils literal"><span class="pre">gameloop</span></code>. If you define this in
your code, it will take over the non-VBI main game loop. If you don’t
define it, Omnivore will put the standard game loop at $2860. The game loop
is responsible for fading in jumpman at the beginning of a level and
monitoring end-of-game conditions. Only a few examples of a custom game
loop exist Glover’s original levels, so this is not a commonly used feature
at all.</p>

<a name="disassembly"></a>
<h3>Disassembly</h3>
<p>If you’re interested in exploring the assembly code in Jumpman, you’ll want
to use the standard Jumpman disk image and then get the Omnivore metadata
file that provides the comments.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.atarimania.com/game-atari-400-800-xl-xe-jumpman_2713.html" target="_blank">Jumpman disk image</a></li>
<li><a class="reference external" href="http://playermissile.com/jumpman/Jumpman%20(1983)(Epyx)(US)[!].atr.omnivore" target="_blank">latest metadata</a></li>
</ul>
<p>Note that Omnivore recognizes a Jumpman disk image and loads right into the
level editor. To use the hex editor, you’ll need to use the menu option
<code class="docutils literal"><span class="pre">Window</span> <span class="pre">-&gt;</span> <span class="pre">New</span> <span class="pre">View</span> <span class="pre">of</span> <span class="pre">Jumpman</span> <span class="pre">-&gt;</span> <span class="pre">In</span> <span class="pre">Hex</span> <span class="pre">Editor</span> <span class="pre">Window</span></code></p>

<a name="a-note-on-terminology"></a>
<h3>A Note on Terminology</h3>
<p>In the documentation for the game, you are described as running around
defusing bombs by touching them. We started calling them peanuts in our
documentation because Kevin called them that in his youth, and so we
wouldn’t get flagged and placed on NSA watchlists because our email traffic
contained hundreds of references to bombs. We hope the Planter’s people are
less invasive.</p>
<p>peanut:</p>
<blockquote>
<div>The bombs from the original manual; what you’re collecting to
advance to the next level</div></blockquote>
<p>harvest:</p>
<blockquote>
<div>The act of colliding with a peanut and removing it from the level</div></blockquote>
<p>trigger function:</p>
<blockquote>
<div>A pointer to a routine that will run when that particular peanut is
harvested. This is not the same as trigger painting described below.</div></blockquote>
<p>trigger painting:</p>
<blockquote>
<div>A pointer to an entry in the trigger painting table that draws or
erases level elements when the peanut is harvested. Note that this is
entirely separate from the trigger function above. A peanut may have
one, both, or neither defined.</div></blockquote>
<hr class="docutils" />


<a name="file-menu"></a>
<h2>File Menu</h2>
<a name="new"></a>
<h3>New</h3>
<p>A list of supported file types that can be created by Omnivore.</p>
<p>Choosing an item in this list will open up a new tab in the current window
showing a new blank template of the selected file format.</p>
<p>Available templates include:</p>
<ul class="simple">
<li>Apple DOS 3.3 (140K) AUTOBRUN image</li>
<li>Apple DOS 3.3 (140K) blank image</li>
<li>Atari DOS 2 DD (180K) blank image</li>
<li>Atari DOS 2 ED (130K) blank image</li>
<li>Atari DOS 2 SD (90K) blank image</li>
<li>Atari DOS 2.0S SD (90K) system disk</li>
<li>Atari DOS 2.5 ED (130K) system disk</li>
<li>Getaway Map</li>
<li>Jumpman Level</li>
<li>template://no-json.dsk</li>
</ul>

<a name="open"></a>
<h3>Open</h3>
<p>Open a file using a file select dialog box.</p>

<a name="open-recent"></a>
<h3>Open Recent</h3>
<p>This submenu contain a list of the files most recently loaded or saved.</p>
<p>You can limit the number of items to remember in the General tab of the
<a class="reference internal" href="#preferences">Preferences</a> dialog.</p>

<a name="insert-file"></a>
<h3>Insert File</h3>
<p>Insert binary data at the cursor</p>
<p>The data from the loaded file will overwrite data starting at the cursor,
so it’s not inserted in the text editor sense where space is created in the
existing data.</p>

<a name="save"></a>
<h3>Save</h3>
<p>Save the file, overwriting the previously saved version</p>

<a name="save-as"></a>
<h3>Save As</h3>
<p>Save the file to a new filename, leaving the originally loaded unchanged
on disk.</p>

<a name="save-segment-as"></a>
<h3>Save Segment As</h3>
<a name="jumpman-level-tester-atr-atr"></a>
<h4>Jumpman Level Tester ATR (.atr)</h4>

<a name="raw-data-dat"></a>
<h4>Raw Data (.dat)</h4>


<a name="save-as-image"></a>
<h3>Save As Image</h3>
<p>Save the current view as an image (if possible with this editor)</p>

<a name="revert"></a>
<h3>Revert</h3>
<p>Reverts the file to the last saved version on disk</p>
<p>This throws away any edits and is not undoable.</p>

<a name="page-setup"></a>
<h3>Page Setup</h3>
<p>Choose options for printing</p>

<a name="print-preview"></a>
<h3>Print Preview</h3>
<p>Preview the pages to be printed</p>

<a name="print"></a>
<h3>Print</h3>
<p>Print the current view to a printer</p>

<a name="export-as-xex"></a>
<h3>Export as XEX</h3>
<p>Create an Atari 8-bit executable from a set of segments.</p>
<p>Opens a dialog window providing a list of segments to be added to the new
executable and a starting address at which the Atari will begin executing
the program on completion of the load.</p>

<a name="export-as-boot-disk"></a>
<h3>Export as Boot Disk</h3>
<p>Create an Atari 8-bit boot disk from a set of segments.</p>
<p>Opens a dialog window providing a list of segments to be added to the boot
disk and a starting address at which the Atari will begin executing the
program after reading all the sectors written to disk.</p>
<p>This creates a smaller-than-normal ATR image with a custom bootloader. Any
sectors beyond the number fo sectors required to create the image are not
included in the image.</p>

<a name="quit"></a>
<h3>Quit</h3>
<p>Quit the program</p>


<a name="edit-menu"></a>
<h2>Edit Menu</h2>
<a name="undo"></a>
<h3>Undo</h3>
<p>Undo the last action</p>
<p>Actions that modify data are undoable; some that modify the metadata are
but movement commands are not stored in the undo list, so for example
cursor moves or changes to selection regions are not undoable.</p>

<a name="redo"></a>
<h3>Redo</h3>
<p>Redo the last operation that was undone.  See <a class="reference internal" href="#undo">Undo</a>.</p>

<a name="cut"></a>
<h3>Cut</h3>
<p>Cut and remove the current selection</p>

<a name="copy"></a>
<h3>Copy</h3>
<p>Copy the current selection</p>

<a name="paste"></a>
<h3>Paste</h3>
<p>Paste from the clipboard</p>

<a name="select-all"></a>
<h3>Select All</h3>
<p>Select all drawing elements in the main level</p>

<a name="select-none"></a>
<h3>Select None</h3>
<p>Clear all selections</p>

<a name="invert-selection"></a>
<h3>Invert Selection</h3>
<p>Invert the selection; that is: select everything that is currently
unselected and unselect those that were selected.</p>

<a name="flip-selection-vertically"></a>
<h3>Flip Selection Vertically</h3>
<p>Flips the selected items top to bottom.</p>
<p>This calculates the bounding box of just the selected items and uses that
to find the centerline about which to flip.</p>

<a name="flip-selection-horizontally"></a>
<h3>Flip Selection Horizontally</h3>
<p>Flips the selected items left to right.</p>
<p>This calculates the bounding box of just the selected items and uses that
to find the centerline about which to flip.</p>

<a name="preferences"></a>
<h3>Preferences</h3>
<p>Open a window to change program settings and defaults.</p>


<a name="view-menu"></a>
<h2>View Menu</h2>
<a name="colors"></a>
<h3>Colors</h3>
<p>This list sets the color encoding standard for all bitmapped graphics of
the disk image. Currently supported are:</p>
<ul class="simple">
<li>NTSC</li>
<li>PAL</li>
</ul>
<a name="antic-powerup-colors"></a>
<h4>ANTIC Powerup Colors</h4>
<p>Changes the color palette to ANTIC Powerup Colors</p>

<a name="use-antic-colors"></a>
<h4>Use ANTIC Colors</h4>
<p>Open a window to choose the color palette from the available colors
of the ANTIC processor.</p>


<a name="show-baseline-differences"></a>
<h3>Show Baseline Differences</h3>
<p>Toggle whether differences to the <a href="#id1"><span class="problematic" id="id2">`Baseline Data`_</span></a> are highlighted
or not.</p>

<a name="text-font"></a>
<h3>Text Font</h3>
<p>Open a font selection window to choose the font and size used to display
the values in the hex grid and the disassembly text.</p>

<a name="pane-visibility"></a>
<h3>Pane Visibility:</h3>
<p>Toggles whether or not the named extra pane is shown or hidden in the current window.</p>

<a name="current-task"></a>
<h3>Current Task:</h3>
<p>Changes the view in the entire window to a new editing task. The files in the current task are not lost, it’s just a way to edit different types of files while using the same top level window on the desktop.</p>


<a name="jumpman-menu"></a>
<h2>Jumpman Menu</h2>
<a name="edit-level"></a>
<h3>Edit Level</h3>
<p>This submenu contains a list of all Jumpman levels in the disk image.
Selecting one of these items will change the display to edit that level.</p>
<p>Note that no changes are lost when switching levels; they remain in memory
and your edits will be restored when switching back to a previously editing
level. However, no changes for any level are saved on disk until using the
<a class="reference internal" href="#save">Save</a> or <a class="reference internal" href="#save-as">Save As</a> commands.</p>

<a name="clear-trigger-function"></a>
<h3>Clear Trigger Function</h3>
<p>Remove any trigger function from the selected peanut(s).</p>

<a name="set-trigger-function"></a>
<h3>Set Trigger Function</h3>
<p>Set a trigger function for the selected peanut(s).</p>
<p>If you have used the custom code option, have compiled your code using the
built-in assembler, <em>and</em> your code has labels that start with <code class="docutils literal"><span class="pre">trigger</span></code>,
these will show up in the list that appears when you invoke this action.</p>
<p>Otherwise, you can specify the hex address of a subroutine.</p>

<a name="custom-code"></a>
<h3>Custom Code</h3>
<p>Add an assembly source file to this level (and compile it)</p>
<p>This is used to provide custom actions or even game loops, beyond what is
already built-in with trigger painting. There are special labels that are
recognized by the assembler and used in the appropriate places:</p>
<blockquote>
<div><ul class="simple">
<li>vbi1</li>
<li>vbi2</li>
<li>vbi3</li>
<li>vbi4</li>
<li>dead_begin</li>
<li>dead_at_bottom</li>
<li>dead_falling</li>
<li>gameloop</li>
<li>out_of_lives</li>
<li>level_complete</li>
<li>collect_callback</li>
</ul>
</div></blockquote>
<p>See our <a class="reference external" href="http://playermissile.com/jumpman/notes.html#h.s0ullubzr0vv" target="_blank">reverse engineering notes</a> for more
details.</p>

<a name="recompile-code"></a>
<h3>Recompile Code</h3>
<p>Recompile the assembly source code.</p>
<p>This is a manual action, currently the program doesn’t know when the file
has changed. Making this process more automatic is a planned future
enhancement.</p>


<a name="disk-image-menu"></a>
<h2>Disk Image Menu</h2>
<a name="run-emulator"></a>
<h3>Run Emulator</h3>
<p>Run the current emulator using the current emulator.</p>
<p>The current emulator is shown in the <a class="reference internal" href="#emulators">Emulators</a> sub-menu.</p>

<a name="emulators"></a>
<h3>Emulators</h3>
<p>This submenu contains a list of the known emulators and a checkbox
to indicate the current emulator.</p>
<a name="add-new-emulator"></a>
<h4>Add New Emulator</h4>
<p>Open up a window to define a reference to an external emulator</p>
<p>Omnivore can run the disk image in any emulator that is capable of being
started from a command line. It spawns a separate process and feeds the
emulator a path to the disk image along with any necessary command line
arguments that you have to specify when setting up the emulator in this
window.</p>

<a name="edit-emulators"></a>
<h4>Edit Emulators</h4>
<p>Make changes to the current list of emulators.</p>
<p>This opens a window with a list of the currently defined emulators
to make changes to existing emulators or add/delete any already defined.</p>

<a name="set-current-as-system-default"></a>
<h4>Set Current as System Default</h4>
<p>The currently specified emulator in the <a class="reference internal" href="#emulators">Emulators</a> list will be set as
the system default and remembered for subsequent editing sessions.</p>



<a name="documents-menu"></a>
<h2>Documents Menu</h2>
<p>This menu contains a list of all documents open in the current session, across all windows and tabs. Selecting an item in this list will switch the view to that document, using the editor that was being used the last time it was edited.</p>

<a name="window-menu"></a>
<h2>Window Menu</h2>
<a name="new-view-in"></a>
<h3>New View In</h3>
<p>This menu will contain a list of all editors that can modify this file. Selecting an item in this list will add a new view into this file using the selected editor.  For instance, you can have a map editor and a hex editor on the same file; they point to the same data and modifying data in one window will show up in the other window.</p>

<a name="new-window"></a>
<h3>New Window</h3>
<p>Open a new, blank Omnivore window that can be used to load new files
or to provide a second view on a currently loaded file.</p>


<a name="help-menu"></a>
<h2>Help Menu</h2>
<a name="about"></a>
<h3>About</h3>
<p>Display window with version number and author info</p>

<a name="user-guide"></a>
<h3>User Guide</h3>
<p>Display the user guide in a new window</p>

<a name="open-log-directory-in-file-manager"></a>
<h3>Open Log Directory in File Manager</h3>
<p>Open the log directory in the desktop file manager program.</p>
<p>The log directory will contain debug logs (if enabled) and other files,
most of which are generally only useful for developers or to get more
information to send to the developers in the event of a problem.</p>

<a name="show-debug-log"></a>
<h3>Show Debug Log</h3>
<p>Displays a window that can be used to turn on debugging of particular
parts of the program.</p>
<p>The log levels shown initially are the default log levels for each logger.
Using the <code class="docutils literal"><span class="pre">Filter</span></code> text entry box, you can enter a string or a comma
separated list of strings that will be used to select which loggers get
switched to <em>DEBUG</em> mode. Everything else gets set to its default state,
usually either <em>INFO</em> or <em>WARNING</em>.</p>
<p>The string is not a regular expression, but will match partial strings.</p>

<a name="more-debugging"></a>
<h3>More Debugging</h3>
<a name="widget-inspector"></a>
<h4>Widget Inspector</h4>
<p>Open the wxPython Widget Inspector</p>

<a name="raise-exception"></a>
<h4>Raise Exception</h4>
<p>Raise an exception to test the error reporter</p>




</a>
<div class="footer">
<hr />
Updated 18 Aug 2017 by Rob McMullen &lt;feedback@playermissile.com&gt;
</div>
</body>
</html>