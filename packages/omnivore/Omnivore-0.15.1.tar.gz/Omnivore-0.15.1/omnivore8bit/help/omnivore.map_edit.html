<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Map Editor</title>





<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
</head>
<body role="document">
<div id="titleLine">
<center><a href="https://playermissile.com/omnivore/"><img src="_static/doc-logo.png" alt="Omnivore XL, the 8-bit Binary Editor" /></a></center>
<hr />
</div>
<a name="map-editor">
<h1>Map Editor</h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<a name="overview"></a>
<h2>Overview</h2>
<p>Map edit mode provides a tile-based editor, capable of handling
scrolling playfields much wider than the screen.</p>
<p>Currently it has mostly been testing with Getaway! level editing, but it
can edit arbitrary maps. It needs a segment that exactly fits the
dimensions of the map, so some number of bytes wide times the number of
rows. If it does recognize the disk image as a Getaway! disk, it will set
up some extra features.</p>
<p>Selecting a segment will then show the map on a scrolling window. There are
tools available in the toolbar, such as line and rectangle drawing, that
can help speed up the process of creating areas. Cut and paste of
rectangular areas is supported. The basic usage of the draw tools is to
select a tile and use that as the drawing tile for whatever shape was
selected. Holding down the left mouse button while moving extends the shape
and releasing the mouse ends the shape. Full undo/redo support is
available.</p>
<p>In addition to the main map window, there is a drawing toolbar and three
supporting panes, all of which are described below.</p>
<a name="getaway"></a>
<h3>Getaway</h3>
<p>I interviewed Mark Reid in <a class="reference external" href="https://playermissile.com/podcast/ep019.html">Player/Missile episode 19</a> and he subsequently
located the original floppy disks containing his original source code. He
generously placed the code in the public domain, and I have set up a
<a class="reference external" href="https://github.com/robmcmullen/getaway">github repository</a> to further
development.</p>
<p>Wade of the <a class="reference external" href="https://inverseatascii.info">Inverse ATASCII</a> and <a class="reference external" href="https://1632podcast.info">1632
Atari PodcaST</a> created the first new map for
Getaway using the map editor in Omnivore. He discovered some limitations
with custom maps that the original game didn&#8217;t handle because the original
game wasn&#8217;t meant to have different maps. For instance, the hideout was
hardcoded in a certain position, and the game would freeze if a cop reached
a dead end because the original game didn&#8217;t have any dead ends.</p>
<p>AtariAge user itaych fixed those bugs that caused custom maps to freeze the
game, and I added the ability to place the hideout at any location.</p>


<a name="toolbar"></a>
<h2>Toolbar</h2>
<p>Choosing any tool on the toolbar palette keeps that mode active until a new
toolbar icon is selected.</p>
<a name="selection"></a>
<h3>Selection</h3>
<p>The default mode is selection. Click the left button to place the cursor at
a location, and drag while holding down the left button to select a
rectangular region.</p>
<p>Multiple selection is supported: hold down the Control key (Command on Mac)
while clicking and dragging and new rectangular areas can be selected.</p>

<a name="tile-picker"></a>
<h3>Tile Picker</h3>
<p>This mode will set the current drawing tile from a location on the screen.
Click the left mouse button on a tile and that tile will be highlighted in
the <a class="reference internal" href="#tile-map">Tile Map</a> and the <a class="reference internal" href="#character-set">Character Set</a>, and therefore will be used as the
current drawing tile.</p>

<a name="freehand-drawing"></a>
<h3>Freehand Drawing</h3>
<p>The current tile will be used to replace the tile at the mouse pointer
location when the left button is held down.</p>

<a name="line-drawing"></a>
<h3>Line Drawing</h3>
<p>To start drawing a line with the current tile, left click on the starting
location and hold the mouse button. As you move the mouse, a preview of the
line will be drawn between the starting location and the current mouse
position. When you release the mouse button, the line will be copied to the
map.</p>

<a name="square"></a>
<h3>Square</h3>
<p>The process for drawing a square is much the line: left click on a point
(this will become a corner) and hold the mouse button while you choose a
point that will become the opposite corner. Like the line, it is a preview
until you release the button, whereupon it will be copied to the map.</p>
<p>The border is one tile wide, and the interior is not filled.</p>

<a name="filled-square"></a>
<h3>Filled Square</h3>
<p>This is the same the square above, except the interior is filled with the
tile.</p>


<a name="dockable-windows"></a>
<h2>Dockable Windows</h2>
<a name="character-set"></a>
<h3>Character Set</h3>
<p>From this grid of all 256 possible tiles, you can select a tile to use as
the drawing pattern. All of the drawing commands in the toolbar above will
use the selected tile.</p>
<p>For the Atari, it includes the inverse characters in the second 128
positions.</p>

<a name="tile-map"></a>
<h3>Tile Map</h3>
<p>This pane also shows tiles, but in this case they are grouped together in
sections. Use the drop-down list at the top to choose a section, which will
scroll the tiles belonging to that section into view.</p>
<p>So far, this is only used for Getaway maps, and it is hardcoded. Eventually
there will be a way to define custom sections.</p>

<a name="overview-map"></a>
<h3>Overview Map</h3>
<p>This is a small version of the map, showing a view at one pixel per
character. Note that the page map is just greyscale; it uses the tile
number (i.e. the byte value) at a particular location as the intensity.</p>
<hr class="docutils" />


<a name="file-menu"></a>
<h2>File Menu</h2>
<a name="new"></a>
<h3>New</h3>
<p>A list of supported file types that can be created by Omnivore.</p>
<p>Choosing an item in this list will open up a new tab in the current window
showing a new blank template of the selected file format.</p>
<p>Available templates include:</p>
<ul class="simple">
<li>Apple DOS 3.3 (140K) AUTOBRUN image</li>
<li>Apple DOS 3.3 (140K) blank image</li>
<li>Atari DOS 2 DD (180K) blank image</li>
<li>Atari DOS 2 ED (130K) blank image</li>
<li>Atari DOS 2 SD (90K) blank image</li>
<li>Atari DOS 2.0S SD (90K) system disk</li>
<li>Atari DOS 2.5 ED (130K) system disk</li>
<li>Getaway Map</li>
<li>Jumpman Level</li>
</ul>

<a name="open"></a>
<h3>Open</h3>
<p>Open a file using a file select dialog box.</p>

<a name="open-recent"></a>
<h3>Open Recent</h3>
<p>This submenu contain a list of the files most recently loaded or saved.</p>
<p>You can limit the number of items to remember in the General tab of the
<a class="reference internal" href="#preferences">Preferences</a> dialog.</p>

<a name="insert-file"></a>
<h3>Insert File</h3>
<p>Insert binary data at the cursor</p>
<p>The data from the loaded file will overwrite data starting at the cursor,
so it&#8217;s not inserted in the text editor sense where space is created in the
existing data.</p>

<a name="save"></a>
<h3>Save</h3>
<p>Save the file, overwriting the previously saved version</p>

<a name="save-as"></a>
<h3>Save As</h3>
<p>Save the file to a new filename, leaving the originally loaded unchanged
on disk.</p>

<a name="save-segment-as"></a>
<h3>Save Segment As</h3>
<a name="raw-data-dat"></a>
<h4>Raw Data (.dat)</h4>


<a name="save-as-image"></a>
<h3>Save As Image</h3>
<p>Save the current view as an image (if possible with this editor)</p>

<a name="revert"></a>
<h3>Revert</h3>
<p>Reverts the file to the last saved version on disk</p>
<p>This throws away any edits and is not undoable.</p>

<a name="page-setup"></a>
<h3>Page Setup</h3>
<p>Choose options for printing</p>

<a name="print-preview"></a>
<h3>Print Preview</h3>
<p>Preview the pages to be printed</p>

<a name="print"></a>
<h3>Print</h3>
<p>Print the current view to a printer</p>

<a name="export-as-xex"></a>
<h3>Export as XEX</h3>
<p>Create an Atari 8-bit executable from a set of segments.</p>
<p>Opens a dialog window providing a list of segments to be added to the new
executable and a starting address at which the Atari will begin executing
the program on completion of the load.</p>

<a name="export-as-boot-disk"></a>
<h3>Export as Boot Disk</h3>
<p>Create an Atari 8-bit boot disk from a set of segments.</p>
<p>Opens a dialog window providing a list of segments to be added to the boot
disk and a starting address at which the Atari will begin executing the
program after reading all the sectors written to disk.</p>
<p>This creates a smaller-than-normal ATR image with a custom bootloader. Any
sectors beyond the number fo sectors required to create the image are not
included in the image.</p>

<a name="quit"></a>
<h3>Quit</h3>
<p>Quit the program</p>


<a name="edit-menu"></a>
<h2>Edit Menu</h2>
<a name="undo"></a>
<h3>Undo</h3>
<p>Undo the last action</p>
<p>Actions that modify data are undoable; some that modify the metadata are
but movement commands are not stored in the undo list, so for example
cursor moves or changes to selection regions are not undoable.</p>

<a name="redo"></a>
<h3>Redo</h3>
<p>Redo the last operation that was undone.  See <a class="reference internal" href="#undo">Undo</a>.</p>
<p>The commands in this menu operate on the current selection to change the byte values to:</p>

<a name="revert-to-baseline-data"></a>
<h3>Revert to Baseline Data</h3>
<p>Restore the selection to the data contained in the <a href="#id4"><span class="problematic" id="id5">`Baseline
Data`_</span></a> file.</p>

<a name="cut"></a>
<h3>Cut</h3>
<p>Cut and remove the current selection</p>

<a name="copy"></a>
<h3>Copy</h3>
<p>Copy the current selection</p>

<a name="paste"></a>
<h3>Paste</h3>
<p>Paste from the clipboard</p>

<a name="select-all"></a>
<h3>Select All</h3>
<p>Select the entire document</p>

<a name="select-none"></a>
<h3>Select None</h3>
<p>Clear selection</p>

<a name="invert-selection"></a>
<h3>Invert Selection</h3>
<p>Inverts the selection; that is, select everything that is currently unselected and unselect those that were selected.</p>

<a name="preferences"></a>
<h3>Preferences</h3>
<p>Open a window to change program settings and defaults.</p>


<a name="view-menu"></a>
<h2>View Menu</h2>
<a name="colors"></a>
<h3>Colors</h3>
<p>This list sets the color encoding standard for all bitmapped graphics of
the disk image. Currently supported are:</p>
<ul class="simple">
<li>NTSC</li>
<li>PAL</li>
</ul>
<a name="antic-powerup-colors"></a>
<h4>ANTIC Powerup Colors</h4>
<p>Changes the color palette to ANTIC Powerup Colors</p>

<a name="use-antic-colors"></a>
<h4>Use ANTIC Colors</h4>
<p>Open a window to choose the color palette from the available colors
of the ANTIC processor.</p>


<a name="font"></a>
<h3>Font</h3>
<a name="x8-atari-default-font"></a>
<h4>8x8 Atari Default Font</h4>

<a name="x8-atari-custom-computer-font"></a>
<h4>8x8 Atari Custom Computer Font</h4>

<a name="x8-apple-default-font"></a>
<h4>7x8 Apple ][ Default Font</h4>

<a name="x8-apple-font-w-mouse-text"></a>
<h4>7x8 Apple ][ Font w/Mouse Text</h4>

<a name="mountainking-fnt"></a>
<h4>mountainking.fnt</h4>

<a name="id1"></a>
<h4>mountainking.fnt</h4>

<a name="id2"></a>
<h4>mountainking.fnt</h4>

<a name="id3"></a>
<h4>mountainking.fnt</h4>

<a name="getaway-var"></a>
<h4>getaway.var</h4>

<a name="load-font"></a>
<h4>Load Font</h4>

<a name="get-font-from-selection"></a>
<h4>Get Font From Selection</h4>


<a name="character-display"></a>
<h3>Character Display</h3>
<a name="character-display-modes"></a>
<h4>Character Display Modes</h4>
<p>This submenu contains a list of all available font renderers. Selecting
an item in this list will change how the text is displayed in the character
map window.</p>
<ul class="simple">
<li>Antic 2 (Gr 0)</li>
<li>Antic 4 (40x24, 5 color)</li>
<li>Antic 5 (40x12, 5 color)</li>
<li>Antic 6 (Gr 1) Uppercase and Numbers</li>
<li>Antic 6 (Gr 1) Lowercase and Symbols</li>
<li>Antic 7 (Gr 2) Uppercase and Numbers</li>
<li>Antic 7 (Gr 2) Lowercase and Symbols</li>
<li>Apple ][</li>
</ul>

<a name="character-mappings"></a>
<h4>Character Mappings</h4>
<p>This submenu contains a list of all available character mappings. Most
platforms use a regular ASCII mapping, but some like the Atari 8-bits have
different character mappings depending on the usage: the ANTIC mapping if
looking at screen memory and the ATASCII mapping for normal usage.</p>
<ul class="simple">
<li>ATASCII Characters</li>
<li>Antic Map</li>
</ul>

<a name="map-width"></a>
<h4>Map Width</h4>
<p>Set the number of bytes per row of the character display.</p>


<a name="show-baseline-differences"></a>
<h3>Show Baseline Differences</h3>
<p>Toggle whether differences to the <a href="#id6"><span class="problematic" id="id7">`Baseline Data`_</span></a> are highlighted
or not.</p>

<a name="text-font"></a>
<h3>Text Font</h3>
<p>Open a font selection window to choose the font and size used to display
the values in the hex grid and the disassembly text.</p>

<a name="pane-visibility"></a>
<h3>Pane Visibility:</h3>
<p>Toggles whether or not the named extra pane is shown or hidden in the current window.</p>

<a name="current-task"></a>
<h3>Current Task:</h3>
<p>Changes the view in the entire window to a new editing task. The files in the current task are not lost, it&#8217;s just a way to edit different types of files while using the same top level window on the desktop.</p>


<a name="segment-menu"></a>
<h2>Segment Menu</h2>
<a name="view-segment"></a>
<h3>View Segment</h3>
<p>This submenu contains a list of all segments in the disk image.
Selecting one of these items will change the view to the selected segment.</p>


<a name="documents-menu"></a>
<h2>Documents Menu</h2>
<p>This menu contains a list of all documents open in the current session, across all windows and tabs. Selecting an item in this list will switch the view to that document, using the editor that was being used the last time it was edited.</p>

<a name="window-menu"></a>
<h2>Window Menu</h2>
<a name="new-view-in"></a>
<h3>New View In</h3>
<p>This menu will contain a list of all editors that can modify this file. Selecting an item in this list will add a new view into this file using the selected editor.  For instance, you can have a map editor and a hex editor on the same file; they point to the same data and modifying data in one window will show up in the other window.</p>

<a name="new-window"></a>
<h3>New Window</h3>
<p>Open a new, blank Omnivore window that can be used to load new files
or to provide a second view on a currently loaded file.</p>


<a name="help-menu"></a>
<h2>Help Menu</h2>
<a name="about"></a>
<h3>About</h3>
<p>Display window with version number and author info</p>

<a name="user-guide"></a>
<h3>User Guide</h3>
<p>Display the user guide in a new window</p>

<a name="open-log-directory-in-file-manager"></a>
<h3>Open Log Directory in File Manager</h3>
<p>Open the log directory in the desktop file manager program.</p>
<p>The log directory will contain debug logs (if enabled) and other files,
most of which are generally only useful for developers or to get more
information to send to the developers in the event of a problem.</p>

<a name="show-debug-log"></a>
<h3>Show Debug Log</h3>
<p>Displays a window that can be used to turn on debugging of particular
parts of the program.</p>
<p>The log levels shown initially are the default log levels for each logger.
Using the <code class="docutils literal"><span class="pre">Filter</span></code> text entry box, you can enter a string or a comma
separated list of strings that will be used to select which loggers get
switched to <em>DEBUG</em> mode. Everything else gets set to its default state,
usually either <em>INFO</em> or <em>WARNING</em>.</p>
<p>The string is not a regular expression, but will match partial strings.</p>

<a name="more-debugging"></a>
<h3>More Debugging</h3>
<a name="widget-inspector"></a>
<h4>Widget Inspector</h4>
<p>Open the wxPython Widget Inspector</p>

<a name="raise-exception"></a>
<h4>Raise Exception</h4>
<p>Raise an exception to test the error reporter</p>




</a>
<div class="footer">
<hr />
Updated 02 Jun 2017 by Rob McMullen &lt;feedback@playermissile.com&gt;
</div>
</body>
</html>