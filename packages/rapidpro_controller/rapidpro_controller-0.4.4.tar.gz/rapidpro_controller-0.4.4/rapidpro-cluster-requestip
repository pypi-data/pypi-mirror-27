#!/usr/bin/env python
# -*- coding: utf-8 -*-
# vim: ai ts=4 sts=4 et sw=4 nu

from __future__ import (unicode_literals, absolute_import,
                        division, print_function)
import sys
import os

from rapidpro_controller import (get_logger, run_command, THIS_SERVER)

logger = get_logger(os.path.basename(__file__))


def main(args):
    force = '--force' in args
    command = ['rapidpro-cluster-setipmaster', THIS_SERVER]
    if force:
        command.append('--force')
    return run_command(command)


if __name__ == '__main__':
    sys.exit(main(sys.argv[1:]))
