<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Release Notes</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Release Notes</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Each release of GRR brings some significant changes as the project&#8217;s code is
moving quickly. This section tries to identify the key changes and issues to
watch for when upgrading from one version to another.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_server">Server</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_1_0_2_to_3_2_0_1_sep_5_2017">3.1.0.2 to 3.2.0.1 (Sep 5 2017)</h3>
<div class="paragraph"><p>Starting with 3.2.0.1, we plan on releasing more frequently, since we have automated a
large part of the release process. The recommended way of installing this version of
GRR is with the server debian package, which includes client templates for all supported
platforms. PIP packages, and a Docker image for the release will be made available at
a later date.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>IMPORTANT</strong> Before upgrading, make sure to back up your data store. This release
   has changes that may be incompatible with older versions of the data store.
   Also make copies of your configs - for reference, and in case you want to roll
   back the upgrade.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Rekall is disabled by default. <em>Rekall.enabled: True</em> line should be
   added to GRR configuration file in order for Rekall to work. There are known
   stability issues in Rekall and winpmem driver. Disabling it by default makes
   its <em>in dev/experimental</em> status more explicit.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Components are deprecated. The GRR client is now monolithic, there’s
   no need to upload or update components anymore.
   NOTE: The new GRR server will only be able to run Rekall-based flows
   (AnalyzeClientMemory, MemoryCollector) with the latest GRR client, since it
   expects the client not to use components.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Rekall flows have been moved to <em>DEBUG</em> category. They won’t be visible
   unless users enable <em>Mode: DEBUG</em> in the settings menu (accessible via the
   settings button in top right corner of GRR AdminUI).
</p>
</li>
<li>
<p>
<strong>WARN</strong> A number of backwards-incompatible datastore schema changes were made.
   The nature of these changes is such that easy data migration between
   releases is not possible. Data loss of flows and hunts is possible. Please
   back up your current system if this data is critical.
</p>
</li>
<li>
<p>
<strong>WARN</strong> A number of deprecated configuration options were removed. If GRR
   fails to start after the upgrade, please check the server logs for
   <em>Unknown configuration option</em> messages.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Global Flows are no longer supported.
</p>
</li>
<li>
<p>
<strong>INFO</strong> Bugfixes, additionals tests and code health work in all parts of the
   system.
</p>
</li>
<li>
<p>
<strong>INFO</strong> HTTP API now covers 100% of GRR functionality. Python API client
   library significantly extended. API call routers implemented, allowing for
   flexible authorization.
</p>
</li>
<li>
<p>
<strong>INFO</strong> <em>Download as</em> functionality added to flows and hunts. Supported
   formats are CSV, YAML and SQLite.
</p>
</li>
<li>
<p>
<strong>INFO</strong> Build process for clients and server is significantly improved. Client
   templates for all supported platforms, as well as a release-ready server
   deb, get built on every github commit.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_0_3_0_7_to_3_1_0_2">0.3.0-7 to 3.1.0.2</h3>
<div class="paragraph"><p>Note that we shifted our version string left to reduce confusion, see the <a href="admin.adoc#client-and-server-version-compatibility-and-numbering">documentation on GRR versions</a>.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> Quite a few config options have changed. We recommend moving any customizations you have into your server.local.yaml, and using the main config file supplied with the new version. Some important specific ones are called out here.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Config option Client.control_urls has been replaced with Client.server_urls. You will need to make sure your polling URL is set in the new variable.
</p>
</li>
<li>
<p>
<strong>WARN</strong> We have completely rewritten how memory collection and analysis works inside GRR. Rekall is now responsible for all driver loading, memory collection, and memory analysis. It also replaces the functionality of the Memory Collector flow. This means you <strong>must</strong> upgrade your clients to be able to do memory collection and analysis.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Repacking of old client templates no longer works due to <a href="https://github.com/google/grr/issues/379">changes necessary for repacking different versions</a>. You will need to use the new client templates that include a build.yaml file.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Config option Cron.enabled_system_jobs (a whitelist) was replaced with Cron.disabled_system_jobs (a blacklist) to make adding new cronjobs easier. You will need to remove Cron.enabled_system_jobs and if you made customizations here, translate any jobs you want to remain disabled to the new list.
</p>
</li>
<li>
<p>
<strong>WARN</strong> We changed the format for the Knowledge Base protocol buffer to remove a duplication of the users component which was storing users information twice and complicating code. This means that all clients need a fresh interrogate run to populate the machine information. Until the machines run interrogate the <code>%%users.homedir%%</code> and similar expansions won&#8217;t work.
</p>
</li>
<li>
<p>
<strong>WARN</strong> The compiler we use to build the Mac client template has become more aggressive with optimizations and now emits code optimized to specific processor versions. The mac client will not run on a processor older than our build machine - an early 2011 Macbook with the Intel Sandy Bridge architecture. If you need to run GRR on, for example, Core 2 duo machines, you will need a custom client built on one of those machines.
</p>
</li>
<li>
<p>
<strong>WARN</strong> We <a href="https://github.com/google/grr/issues/408">no longer support running the client on Windows XP</a>, it&#8217;s difficult to make it work and we have no use for an XP client ourselves. See <a href="https://github.com/google/grr-doc/blob/master/faq.adoc#what-operating-system-versions-does-the-client-support">here</a> for our OS support statement.
</p>
</li>
<li>
<p>
<strong>INFO</strong> Strict context checking was added for config files in <a href="https://github.com/google/grr/commit/56ee26d41afc5809e52d432096de8dbf09564851">this commit</a>, which exposed a number of minor config typo bugs. If you get InvalidContextError on upgrade, you need to update your config to fix up the typos. The <a href="https://github.com/google/grr/blob/master/config/contexts.py">config/contexts.py</a> file is the canonical reference.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Upgrade procedure:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Make backups of important data such as your configs and your database.
</p>
</li>
<li>
<p>
Upgrade to xenial
</p>
</li>
<li>
<p>
Clear out any old installations: <code>sudo rm -rf /usr/local/bin/grr_*; sudo rm -rf /usr/local/lib/python2.7/dist-packages/grr/</code>
</p>
</li>
<li>
<p>
Install deb package
</p>
</li>
<li>
<p>
Backup then remove your /etc/grr/grr-server.yaml. Make sure any customizations you made are stored in <code>/etc/grr/server.local.yaml</code>.
</p>
</li>
<li>
<p>
Run <code>grr_config_updater initialize</code>
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_0_3_0_6_to_0_3_0_7">0.3.0-6 to 0.3.0-7</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>INFO</strong> We moved to using the open source binplist, rather than bundling it with GRR.  If you are getting "ImportError: cannot import name binplist", make sure you have installed the binplist package and deleted grr/parsers/binplist* to clean up any .pyc files that might have been created.
</p>
</li>
<li>
<p>
<strong>INFO</strong> If you have troubles with the rekall efilter library failing to import, try deleting all of your rekall-related .pyc&#8217;s and make sure you&#8217;re installing the version in requirements.txt. See <a href="https://github.com/google/grr/issues/275">this bug</a> for full details.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_0_3_0_5_to_0_3_0_6">0.3.0-5 to 0.3.0-6</h3>
<div class="paragraph"><p>This version bump was to keep in step with the client, which got a new version because of a memory collection bug.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> The artifact format <a href="https://github.com/ForensicArtifacts/artifacts/pull/11">changed in a way</a> that is not backwards compatible.  You&#8217;ll need to delete any artifacts you have in the artifact manager, either through the GUI or on the console with <code>aff4.FACTORY.Delete("aff4:/artifact_store")</code> before you upgrade.  If you forget you should be able to use the console or you can roll back to <a href="https://github.com/google/grr/commit/0ac377613af92f23948b829d7cf86b9b947b1e44">this commit</a> before the artifact change.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Keyword search is now based on an index that is built at weekly interrogate time, which means decomissioned clients won&#8217;t appear in search results.  To populate all of your historical clients into the search index, use the code snippet on <a href="https://github.com/google/grr/commit/faa1622942e765447b6a908d8baf321e7bd288b9#commitcomment-10597659">this commit</a>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_0_3_0_to_0_3_0_5">0.3.0 to 0.3.0-5</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> Rekall made some fundamental changes that mean rekall in the 0.3.0-5 server won&#8217;t work with rekall in 3.0.0.3 clients, so a client upgrade to 3.0.0.5 is required. Non-rekall GRR components should continue to work.
</p>
</li>
<li>
<p>
<strong>WARN</strong> The enroller component was removed, and is now handled by the worker.  You will need to stop those jobs and delete the relevant upstart/init scripts.
</p>
</li>
<li>
<p>
<strong>INFO</strong> We now check that all config options are defined in the code and the server won&#8217;t start if they aren&#8217;t.  When you upgrade it&#8217;s likely there is some old config that will need cleaning up. See the graveyard below for advice.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_0_2_9_to_0_3_0">0.2.9 to 0.3.0</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> After install of new deb you will need to restart the service
   manually.
</p>
</li>
<li>
<p>
<strong>INFO</strong> To get the new clients you will want to repack the new version with
   <code>sudo grr_config_updater repack_clients</code>. This should give you new Windows,
   Linux and OSX clients.
</p>
</li>
<li>
<p>
<strong>INFO</strong> Client themselves will not automatically be upgraded but should
   continue to work.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_0_2_8_to_0_2_9">0.2-8 to 0.2-9</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> After install of new deb you will need to restart the service
   manually.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Users have changed from being managed in the config file to being
   managed in the datastore. This means your users will not work. We haven&#8217;t
   migrated them automatically, please re-add with <code>sudo grr_config_updater
   add_user &lt;user&gt;</code>
</p>
</li>
<li>
<p>
<strong>INFO</strong> To get the new clients you will want to repack the new version with
   <code>sudo grr_config_updater repack_clients</code>. This should give you new Windows,
   Linux and OSX clients.
</p>
</li>
<li>
<p>
<strong>INFO</strong> Client themselves will not automatically be upgraded but should
   continue to work.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client">Client</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_0_7_1_to_3_1_0_0">3.0.7.1 to 3.1.0.0</h3>
<div class="paragraph"><p>Note that we skipped some numbers to make versioning simpler and reduce confusion, see the <a href="admin.adoc#client-and-server-version-compatibility-and-numbering">documentation on GRR versions</a>.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> We changed rekall to be a independently updatable component in the client, which is a backwards incompatible change. You must upgrade your clients to 3.1.0.0 if you want to use memory capabilities in the 3.1.0 server.
</p>
</li>
<li>
<p>
<strong>WARN</strong> Our previous debian package added the GRR service using both upstart and init.d runlevels. This caused some confusion on systems with ubuntu upstart systems. We detect and remove this problem automatically with the new version, but since it is a config file change you need to specify whether to install the new config or keep the old one, <a href="https://raphaelhertzog.com/2010/09/21/debian-conffile-configuration-file-managed-by-dpkg/">or you will get a config change prompt</a>. New is preferred. Something like <code>sudo apt-get -o Dpkg::Options::="--force-confnew" grr</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_3_0_0_7_to_3_0_7_1">3.0.0.7 to 3.0.7.1</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>INFO</strong> 3.0.7.1 is the first version of GRR that will work on OS X El Capitan. The new <a href="https://derflounder.wordpress.com/2015/10/01/system-integrity-protection-adding-another-layer-to-apples-security-model/">OS X System Integrity Protection</a> meant we had to shift our install location from <code>/usr/lib/</code> to <code>/usr/local/lib</code>.
</p>
</li>
<li>
<p>
<strong>INFO</strong> We changed our version numbering scheme for the client at this point to give us the ability to indicate multiple client versions that work with a server version. So 3.0.7.* clients will all work with server 0.3.0-7.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_3_0_0_6_to_3_0_0_7">3.0.0.6 to 3.0.0.7</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> Linux and OS X clients prior to 3.0.0.7 were using <code>/etc/grr/client.local.yaml</code> as the local writeback location. For 3.0.0.7 this was changed to <code>/etc/%(Client.name).local.yaml</code> where the default is <code>/etc/grr.local.yaml</code>. If you wish to preserve the same client IDs you need to use platform management tools to copy the old config into the new location for all clients before you upgrade. If you don&#8217;t do this the clients will just re-enrol and get new client IDs automatically.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_3_0_0_5_to_3_0_0_6">3.0.0.5 to 3.0.0.6</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>INFO</strong> 3.0.0.5 had a bug that broke memory collection, fixed in <a href="https://github.com/google/grr/commit/0615006a740a2802c4cf6c4b6a17e776e128dc06">this commit</a>.  We also wrote a temporary server-side <a href="https://github.com/google/grr/commit/0615006a740a2802c4cf6c4b6a17e776e128dc06#diff-3a7572dd4343868d0929cbdca7a1620cR77">workaround</a>, so upgrading isn&#8217;t mandatory.  3.0.0.5 clients should still work fine.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_3_0_0_3_to_3_0_0_5">3.0.0.3 to 3.0.0.5</h3>
<div class="paragraph"><p>(We skipped a version number, there&#8217;s no 3.0.0.4)</p></div>
</div>
<div class="sect2">
<h3 id="_3_0_0_2_to_3_0_0_3">3.0.0.2 to 3.0.0.3</h3>
<div class="ulist"><ul>
<li>
<p>
<strong>WARN</strong> A change to OpenSSL required us to sign our CSRs generated during the enrollment process. This wasn&#8217;t necessary previously and provided no benefit for GRR so we had gained some speed by not doing it. Since new OpenSSL required it, we started signing the CSRs, but it meant that the 3.0.0.3 server will reject any 3.0.0.2 clients that haven&#8217;t already enrolled (i.e. they will see a HTTP 406).  Old 3.0.0.2 clients that have already enrolled and new 3.0.0.3 clients will work fine. This basically just means that you need to push out new clients at the same time as you upgrade the server.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_config_variable_graveyard">Config Variable Graveyard</h2>
<div class="sectionbody">
<div class="paragraph"><p>Sometimes config variables get renamed, sometimes removed. When this happens we&#8217;ll try to record it here, so users know if local settings should be migrated/ignored etc.</p></div>
<div class="paragraph"><p>You can verify your config with this (root is required to read the writeback config)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sudo PYTHONPATH=. python ./run_tests.py --test=BuildConfigTests.testAllConfigs</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
AdminUI.team_name: replaced by Email.signature
</p>
</li>
<li>
<p>
ClientBuilder.build_src_dir: unused, effectively duplicated ClientBuilder.source
</p>
</li>
<li>
<p>
ClientBuilder.executables_path: ClientBuilder.executables_dir
</p>
</li>
<li>
<p>
Client.config: unused.  Now built from Client.config_hive and Client.config_key
</p>
</li>
<li>
<p>
Client.config_file_name: unused
</p>
</li>
<li>
<p>
Client.location: replaced by Client.control_urls
</p>
</li>
<li>
<p>
Client.package_maker_organization: replaced by ClientBuilder.package_maker_organization
</p>
</li>
<li>
<p>
Client.tempdir: replaced by Client.grr_tempdir and Client.tempdir_roots
</p>
</li>
<li>
<p>
Email.default_domain: essentially duplicated Logging.domain, use that instead.
</p>
</li>
<li>
<p>
Frontend.processes: unused
</p>
</li>
<li>
<p>
Nanny.nanny_binary: replaced by Nanny.binary
</p>
</li>
<li>
<p>
NannyWindows.* : replaced by Nanny.
</p>
</li>
<li>
<p>
PyInstaller.build_root_dir: unused, effectively duplicated ClientBuilder.build_root_dir.
</p>
</li>
<li>
<p>
Users.authentication: unused, user auth is now based on aff4:/users objects. Use config_updater to modify them.
</p>
</li>
<li>
<p>
Worker.task_limit: unused
</p>
</li>
<li>
<p>
Worker.worker_process_count: unused
</p>
</li>
<li>
<p>
Cron.enabled_system_jobs (a whitelist) was replaced with Cron.disabled_system_jobs (a blacklist). Cron.enabled_system_jobs should be removed. Any custom jobs you want to stay disabled should be added to Cron.enabled_system_jobs.
</p>
</li>
<li>
<p>
Client.control_urls: renamed to Client.server_urls.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2017-11-30 14:32:40 UTC
</div>
</div>
</body>
</html>
