# Copyright 2017 StreamSets Inc.
#
# This file contains separate YAML documents with each representing attributes to set
# for dynamically-generated streamsets.Stage executor objects.
---
name: com_streamsets_datacollector_pipeline_executor_spark_SparkDExecutor

attributes:
    additional_files: conf.yarnConfigBean.additionalFiles
    additional_jars: conf.yarnConfigBean.additionalJars
    additional_spark_arguments: conf.yarnConfigBean.noValueArgs
    additional_spark_arguments_and_values: conf.yarnConfigBean.args
    application_arguments: conf.yarnConfigBean.appArgs
    application_name: conf.yarnConfigBean.appName
    application_resource: conf.yarnConfigBean.appResource
    cluster_base_url: conf.databricksConfigBean.baseUrl
    cluster_manager: conf.clusterManager
    custom_java_home: conf.javaHome
    custom_spark_home: conf.sparkHome
    dependencies: conf.yarnConfigBean.pyFiles
    deploy_mode: conf.yarnConfigBean.deployMode
    driver_memory: conf.yarnConfigBean.driverMemory
    dynamic_allocation: conf.yarnConfigBean.dynamicAllocation
    enable_verbose_logging: conf.yarnConfigBean.verbose
    environment_variables: conf.yarnConfigBean.env
    executor_memory: conf.yarnConfigBean.executorMemory
    job_id: conf.databricksConfigBean.jobId
    job_type: conf.databricksConfigBean.jobType
    kerberos_keytab: conf.credentialsConfigBean.keytab
    kerberos_principal: conf.credentialsConfigBean.principal
    language: conf.yarnConfigBean.language
    main_class: conf.yarnConfigBean.mainClass
    maximum_number_of_worker_nodes: conf.yarnConfigBean.maxExecutors
    maximum_time_to_wait_in_ms: conf.yarnConfigBean.waitTimeout
    minimum_number_of_worker_nodes: conf.yarnConfigBean.minExecutors
    number_of_worker_nodes: conf.yarnConfigBean.numExecutors
    on_record_error: stageOnRecordError
    parameters: conf.databricksConfigBean.jarParams
    parameters: conf.databricksConfigBean.notebookParams
    password: conf.databricksConfigBean.proxyConfigBean.password
    password: conf.databricksConfigBean.sslConfigBean.trustStorePassword
    password: conf.databricksConfigBean.sslConfigBean.keyStorePassword
    password: conf.credentialsConfigBean.password
    path_to_key_store: conf.databricksConfigBean.sslConfigBean.keyStorePath
    path_to_trust_store: conf.databricksConfigBean.sslConfigBean.trustStorePath
    preconditions: stageRecordPreconditions
    proxy_uri: conf.databricksConfigBean.proxyConfigBean.uri
    proxy_user: conf.yarnConfigBean.proxyUser
    required_fields: stageRequiredFields
    username: conf.databricksConfigBean.proxyConfigBean.username
    username: conf.credentialsConfigBean.username
---
name: com_streamsets_pipeline_stage_destination_hdfs_metadataexecutor_HdfsMetadataDExecutor

attributes:
    file_path: actions.filePath
    hadoop_fs_configuration: connection.hdfsConfigs
    hadoop_fs_configuration_directory: connection.hdfsConfDir
    hadoop_fs_uri: connection.hdfsUri
    hdfs_user: connection.hdfsUser
    kerberos_authentication: connection.hdfsKerberos
    move_file: actions.shouldMoveFile
    new_acls: actions.newAcls
    new_group: actions.newGroup
    new_location: actions.newLocation
    new_name: actions.newName
    new_owner: actions.newOwner
    new_permissions: actions.newPermissions
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    rename: actions.shouldRename
    required_fields: stageRequiredFields
    set_acls: actions.shouldSetAcls
    set_ownership: actions.shouldChangeOwnership
    set_permissions: actions.shouldSetPermissions
    task: actions.taskType
---
name: com_streamsets_pipeline_stage_destination_hive_queryexecutor_HiveQueryDExecutor

attributes:
    additional_hadoop_configuration: config.hiveConfigBean.additionalConfigProperties
    hadoop_configuration_directory: config.hiveConfigBean.confDir
    jdbc_driver_name: config.hiveConfigBean.hiveJDBCDriver
    jdbc_url: config.hiveConfigBean.hiveJDBCUrl
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
    sql_queries: config.queries
    stop_on_query_failure: config.stopOnQueryFailure
---
name: com_streamsets_pipeline_stage_destination_mapreduce_MapReduceDExecutor

attributes:
    compression_codec: jobConfig.avroParquetConfig.compressionCodec
    custom_jobcreator: jobConfig.customJobCreator
    dictionary_page_size: jobConfig.avroParquetConfig.dictionaryPageSize
    input_avro_file: jobConfig.avroParquetConfig.inputFile
    job_configuration: jobConfig.jobConfigs
    job_name: jobConfig.jobName
    job_type: jobConfig.jobType
    keep_avro_input_file: jobConfig.avroParquetConfig.keepInputFile
    kerberos_authentication: mapReduceConfig.kerberos
    mapreduce_configuration: mapReduceConfig.mapreduceConfigs
    mapreduce_configuration_directory: mapReduceConfig.mapReduceConfDir
    mapreduce_user: mapReduceConfig.mapreduceUser
    max_padding_size: jobConfig.avroParquetConfig.maxPaddingSize
    on_record_error: stageOnRecordError
    output_directory: jobConfig.avroParquetConfig.outputDirectory
    overwrite_temporary_file: jobConfig.avroParquetConfig.overwriteTmpFile
    page_size: jobConfig.avroParquetConfig.pageSize
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
    row_group_size: jobConfig.avroParquetConfig.rowGroupSize
---
name: com_streamsets_pipeline_stage_destination_maprfs_MapRFSDExecutor

attributes:
    file_path: actions.filePath
    hadoop_fs_configuration: connection.hdfsConfigs
    hadoop_fs_configuration_directory: connection.hdfsConfDir
    hadoop_fs_uri: connection.hdfsUri
    hdfs_user: connection.hdfsUser
    kerberos_authentication: connection.hdfsKerberos
    move_file: actions.shouldMoveFile
    new_acls: actions.newAcls
    new_group: actions.newGroup
    new_location: actions.newLocation
    new_name: actions.newName
    new_owner: actions.newOwner
    new_permissions: actions.newPermissions
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    rename: actions.shouldRename
    required_fields: stageRequiredFields
    set_acls: actions.shouldSetAcls
    set_ownership: actions.shouldChangeOwnership
    set_permissions: actions.shouldSetPermissions
    task: actions.taskType
---
name: com_streamsets_pipeline_stage_executor_emailexecutor_EmailDExecutor

attributes:
    email_configuration: conf
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
---
name: com_streamsets_pipeline_stage_executor_finishpipeline_PipelineFinisherDExecutor

attributes:
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
---
name: com_streamsets_pipeline_stage_executor_jdbc_JdbcQueryDExecutor

attributes:
    additional_jdbc_configuration_properties: config.hikariConfigBean.driverProperties
    auto_commit: config.hikariConfigBean.autoCommit
    batch_commit: config.batchCommit
    connection_health_test_query: config.hikariConfigBean.connectionTestQuery
    connection_timeout: config.hikariConfigBean.connectionTimeout
    idle_timeout: config.hikariConfigBean.idleTimeout
    jdbc_connection_string: config.hikariConfigBean.connectionString
    jdbc_driver_class_name: config.hikariConfigBean.driverClassName
    max_connection_lifetime: config.hikariConfigBean.maxLifetime
    maximum_pool_size: config.hikariConfigBean.maximumPoolSize
    minimum_idle_connections: config.hikariConfigBean.minIdle
    on_record_error: stageOnRecordError
    password: config.hikariConfigBean.password
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
    sql_query: config.query
    transaction_isolation: config.hikariConfigBean.transactionIsolation
    use_credentials: config.hikariConfigBean.useCredentials
    username: config.hikariConfigBean.username
---
name: com_streamsets_pipeline_stage_executor_s3_AmazonS3DExecutor

attributes:
    access_key_id: config.s3Config.awsConfig.awsAccessKeyId
    bucket: config.s3Config.bucketTemplate
    content: config.taskConfig.content
    endpoint: config.s3Config.endpoint
    object: config.taskConfig.objectPath
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    proxy_host: config.proxyConfig.proxyHost
    proxy_password: config.proxyConfig.proxyPassword
    proxy_port: config.proxyConfig.proxyPort
    proxy_user: config.proxyConfig.proxyUser
    region: config.s3Config.region
    required_fields: stageRequiredFields
    secret_access_key: config.s3Config.awsConfig.awsSecretAccessKey
    tags: config.taskConfig.tags
    task: config.taskConfig.taskType
    use_proxy: config.proxyConfig.useProxy
---
name: com_streamsets_pipeline_stage_executor_shell_ShellDExecutor

attributes:
    environment_variables: config.environmentVariables
    on_record_error: stageOnRecordError
    preconditions: stageRecordPreconditions
    required_fields: stageRequiredFields
    script: config.script
    timeout_in_ms: config.timeout
