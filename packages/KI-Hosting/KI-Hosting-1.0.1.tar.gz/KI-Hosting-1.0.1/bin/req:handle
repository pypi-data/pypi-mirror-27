#!/usr/bin/env python

from optparse import OptionParser

from pymongo import MongoClient
from ki_hosting import handle

parser = OptionParser()
parser.add_option("-d", "--draft", \
                  action="store_true", dest="draft", default=False, \
                  help="draw a watermark at the center of each page \
                  and does not print signing part")
parser.add_option("-o", "--open", \
                  action="store_true", dest="open", default=False, \
                  help="open pdf after compilation")

if __name__ == "__main__":
    (options, args) = parser.parse_args()
    slug = args[0]
    handle.handle_request(slug, options.draft)
