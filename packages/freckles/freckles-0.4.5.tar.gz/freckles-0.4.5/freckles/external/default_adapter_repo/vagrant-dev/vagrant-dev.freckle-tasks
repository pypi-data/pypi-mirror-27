# TODO: check for VirtualBox executable, omit calling the install role if found (to speed up execution)
# - name: "starting vagrant setup for {{ freckle_path }}"
  # debug: msg="starting vagrant setup for {{ freckle_path }}"

- name: "[install virtualbox]"
  include_role:
    name: makkus.virtualbox
  when: "'virtualbox' in freckle_vars.get('providers', {})"

- name: install vagrant plugins
  install:
    pkg_mgr: vagrant_plugin
    packages:
      - "{{ item }}"
  with_items:
    - "{{ freckle_vars.vagrant_plugins | default([]) }}"
