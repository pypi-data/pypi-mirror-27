webpackJsonp([21],{354:function(e,t,n){var i,o;n(358),i=n(355),o=n(357),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},355:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"box",props:{title:String,icon:null,boxclass:{type:String,default:""},bodyclass:{type:String,default:""},footerclass:{type:String,default:""},loading:Boolean,footer:null}}},356:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".box .box-tools>*{float:right}.box .box-tools .text-muted{color:#777!important}.box .box-tools .box-search{width:180px;display:inline-block}.box .box-tools .box-search input:focus{box-shadow:none;border-color:transparent!important}.box .box-tools .box-search .btn,.box .box-tools .box-search input[type=text]{box-shadow:none;background-color:#fbfbfb;border:1px solid #fbfbfb}.box .box-tools .box-search .btn:focus,.box .box-tools .box-search input[type=text]:focus{background-color:#fff;color:#666}.box .box-tools .box-search .btn:focus+.input-group-btn .btn,.box .box-tools .box-search input[type=text]:focus+.input-group-btn .btn{background-color:#fff;border-left-color:#fff;color:#666}.box .box-tools .box-search>*{border-top:1px solid #eee;border-bottom:1px solid #eee}.box .box-tools .box-search>:first-child{border-left:1px solid #eee}.box .box-tools .box-search>:last-child{border-right:1px solid #eee}.box .box-tools .btn-box-tool{font-size:14px;padding:6px 8px}.box .box-tools .btn-group{vertical-align:inherit}.box form{margin:10px}","",{version:3,sources:["/./js/components/containers/box.vue"],names:[],mappings:"AAAA,kBAAkB,WAAW,CAAC,4BAA4B,oBAAqB,CAAC,4BAA4B,YAAY,oBAAoB,CAAC,wCAAwC,gBAAgB,kCAAmC,CAAC,8EAAgF,gBAAgB,yBAAyB,wBAAwB,CAAC,0FAA4F,sBAAsB,UAAU,CAAC,sIAAwI,sBAAsB,uBAAuB,UAAU,CAAC,8BAA8B,0BAA0B,4BAA4B,CAAC,yCAA0C,0BAA0B,CAAC,wCAAyC,2BAA2B,CAAC,8BAA8B,eAAe,eAAe,CAAC,2BAA2B,sBAAsB,CAAC,UAAU,WAAW,CAAC",file:"box.vue",sourcesContent:['.box .box-tools>*{float:right}.box .box-tools .text-muted{color:#777 !important}.box .box-tools .box-search{width:180px;display:inline-block}.box .box-tools .box-search input:focus{box-shadow:none;border-color:transparent !important}.box .box-tools .box-search input[type="text"],.box .box-tools .box-search .btn{box-shadow:none;background-color:#fbfbfb;border:1px solid #fbfbfb}.box .box-tools .box-search input[type="text"]:focus,.box .box-tools .box-search .btn:focus{background-color:#fff;color:#666}.box .box-tools .box-search input[type="text"]:focus+.input-group-btn .btn,.box .box-tools .box-search .btn:focus+.input-group-btn .btn{background-color:#fff;border-left-color:#fff;color:#666}.box .box-tools .box-search>*{border-top:1px solid #eee;border-bottom:1px solid #eee}.box .box-tools .box-search>*:first-child{border-left:1px solid #eee}.box .box-tools .box-search>*:last-child{border-right:1px solid #eee}.box .box-tools .btn-box-tool{font-size:14px;padding:6px 8px}.box .box-tools .btn-group{vertical-align:inherit}.box form{margin:10px}'],sourceRoot:"webpack://"}])},357:function(e,t){e.exports=' <div class="box {{ boxclass }}"> <header class=box-header v-show="title || icon"> <i v-show=icon class="fa fa-{{icon}}"></i> <h3 class=box-title>{{title}}</h3> <div class=box-tools> <slot name=tools></slot> </div> </header> <div class="box-body {{bodyclass}}"> <slot></slot> </div> <div class=overlay v-show=loading> <span class="fa fa-refresh fa-spin"></span> </div> <div class="box-footer clearfix {{footerclass}}" v-show=footer> <slot name=footer></slot> </div> </div> '},358:function(e,t,n){var i=n(356);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},583:function(e,t,n){var i,o;n(587),i=n(584),o=n(586),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},584:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function optionalMoment(e){return e?(0,o.default)(e):null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=_interopRequireDefault(i),r=["days","months","years"],a="MMMM YYYY";t.default={name:"calendar",props:{selected:{type:o.default,coerce:optionalMoment,default:null},min:{type:o.default,coerce:optionalMoment,default:null},max:{type:o.default,coerce:optionalMoment,default:null},view:{type:String,default:"days"}},data:function(){var e=this.selected||(0,o.default)();return{currentMonth:e.month(),currentYear:e.year(),today:(0,o.default)()}},computed:{days:function days(){for(var days=[],e=o.default.weekdaysMin(),t=o.default.localeData().firstDayOfWeek(),n=0;n<7;n++)days.push(e[(n+t)%7]);return days},months:function(){return o.default.monthsShort()},monthDisplay:function(){return(0,o.default)().month(this.currentMonth).year(this.currentYear).format(a)},rangeDisplay:function(){if("days"==this.view)return(0,o.default)().month(this.currentMonth).year(this.currentYear).format(a);if("months"==this.view)return this.currentYear;if("years"==this.view){var e=(0,o.default)().year(this.currentYear).subtract(5,"years"),t=(0,o.default)().year(this.currentYear).add(6,"years");return e.year()+"-"+t.year()}},currentMonthDays:function(){for(var e=(0,o.default)().month(this.currentMonth).year(this.currentYear),t=e.clone().startOf("month").startOf("week"),n=e.clone().endOf("month").endOf("week"),i=[],r=void 0,a=0;a<=n.diff(t,"days");a++)a%7===0&&(r=[],i.push(r)),r.push(t.clone().add(a,"days"));return i},yearsRange:function(){for(var e=(0,o.default)().year(this.currentYear).subtract(5,"years"),t=[],n=0;n<12;n++)t.push(e.clone().add(n,"years").year());return t},nextValue:function(){var e=(0,o.default)().month(this.currentMonth).year(this.currentYear);return"days"===this.view?e.add(1,"months"):"months"===this.view?e.add(1,"years"):"years"===this.view&&e.add(12,"years"),e},previousValue:function(){var e=(0,o.default)().month(this.currentMonth).year(this.currentYear);return"days"===this.view?e.subtract(1,"months"):"months"===this.view?e.subtract(1,"year"):"years"===this.view&&e.subtract(12,"years"),e},nextDisabled:function(){if(this.max)switch(this.view){case"days":return this.nextValue.isAfter(this.max,"month");case"months":return this.nextValue.isAfter(this.max,"year");case"years":return this.yearsRange.slice(-1).pop()>=this.max.year()}},previousDisabled:function(){if(this.min)switch(this.view){case"days":return this.previousValue.isBefore(this.min,"month");case"months":return this.previousValue.isBefore(this.min,"year");case"years":return this.yearsRange[0]<=this.min.year()}}},methods:{next:function(){this.currentMonth=this.nextValue.month(),this.currentYear=this.nextValue.year()},previous:function(){this.currentMonth=this.previousValue.month(),this.currentYear=this.previousValue.year()},zoomOut:function(){r.indexOf(this.view)+1<r.length&&(this.view=r[r.indexOf(this.view)+1])},pickDay:function(e){this.selected=e,this.$dispatch("calendar:date:selected",e)},pickMonth:function(e){this.currentMonth=e,this.view="days",this.$dispatch("calendar:month:selected",e)},pickYear:function(e){this.currentYear=e,this.view="months",this.$dispatch("calendar:year:selected",e)},isOld:function(e){return e.isBefore((0,o.default)().month(this.currentMonth).year(this.currentYear).startOf("month"))},isNew:function(e){return e.isAfter((0,o.default)().month(this.currentMonth).year(this.currentYear).endOf("month"))},isDisabled:function(e){var t=this.min&&e.isBefore(this.min,"day"),n=this.max&&e.isAfter(this.max,"day");return t||n},isMonthDisabled:function(e){var t=(0,o.default)().month(e).year(this.currentYear),n=this.min&&t.isBefore(this.min,"month"),i=this.max&&t.isAfter(this.max,"month");return n||i},isYearDisabled:function(e){var t=this.min&&e<this.min.year(),n=this.max&&e>this.max.year();return t||n},dayClasses:function(e){return{old:this.isOld(e),new:this.isNew(e),today:e.isSame(this.today,"day"),active:e.isSame(this.selected,"day")}},focus:function(){var e=this.$el.querySelector("main button.active:not(:disabled)")||this.$el.querySelector("main button:not(:disabled)");e.focus()},clear:function(){this.selected=null,this.currentYear=this.today.year(),this.currentMonth=this.today.month(),this.view="days",this.$dispatch("calendar:date:cleared")}},watch:{selected:function(e){e&&(this.currentMonth=e.month(),this.currentYear=e.year())}}}},585:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,'.calendar{color:#000;min-width:210px;border-radius:4px}.calendar>*{display:block}.calendar .fa-remove{color:red}.calendar nav{font-weight:700;display:-webkit-box;display:-ms-flexbox;display:flex}.calendar nav .switch{-webkit-box-flex:2;-ms-flex:2 0 50%;flex:2 0 50%}.calendar nav .next,.calendar nav .prev{-webkit-box-flex:1;-ms-flex:1;flex:1}.calendar main{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.calendar main header{font-weight:700}.calendar main header span{height:30px;padding-top:10px;line-height:20px}.calendar main.days>*{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 0 100%;flex:1 0 100%}.calendar main.days button,.calendar main.days span{-webkit-box-flex:1;-ms-flex:1 0 30px;flex:1 0 30px;text-align:center}.calendar main.months,.calendar main.years{-ms-flex-wrap:wrap;flex-wrap:wrap}.calendar main.months button,.calendar main.years button{-webkit-box-flex:1;-ms-flex:1 0 25%;flex:1 0 25%;text-align:center;height:54px;line-height:54px}.calendar footer{font-weight:700;display:-webkit-box;display:-ms-flexbox;display:flex}.calendar button{height:30px;width:100%;background:none;border:none;border-radius:4px}.calendar button:hover{background:#eee}.calendar button.new,.calendar button.old{color:#777}.calendar button.day:hover,.calendar button:focus{background:#eee;cursor:pointer}.calendar button:disabled,.calendar button:disabled:hover{background:none;color:#777;cursor:not-allowed}.calendar button.today{color:#000;background-color:#ffdb99;border-color:#ffb733;position:relative}.calendar button.today.focus,.calendar button.today:focus{color:#000;background-color:#ffc966;border-color:#b37400}.calendar button.today.active,.calendar button.today:active,.calendar button.today:hover,.open>.dropdown-toggle.calendar button.today{color:#000;background-color:#ffc966;border-color:#f59e00}.calendar button.today.active.focus,.calendar button.today.active:focus,.calendar button.today.active:hover,.calendar button.today:active.focus,.calendar button.today:active:focus,.calendar button.today:active:hover,.open>.dropdown-toggle.calendar button.today.focus,.open>.dropdown-toggle.calendar button.today:focus,.open>.dropdown-toggle.calendar button.today:hover{color:#000;background-color:#ffbc42;border-color:#b37400}.calendar button.today.active,.calendar button.today:active,.open>.dropdown-toggle.calendar button.today{background-image:none}.calendar button.today.disabled.focus,.calendar button.today.disabled:focus,.calendar button.today.disabled:hover,.calendar button.today[disabled].focus,.calendar button.today[disabled]:focus,.calendar button.today[disabled]:hover,fieldset[disabled] .calendar button.today.focus,fieldset[disabled] .calendar button.today:focus,fieldset[disabled] .calendar button.today:hover{background-color:#ffdb99;border-color:#ffb733}.calendar button.today .badge{color:#ffdb99;background-color:#000}.calendar button.today:focus{background:#ffc966}.calendar button.today:disabled,.calendar button.today:disabled:active{background:#ffdb99;color:#777}.calendar button.today:before{content:"";display:inline-block;border:solid transparent;border-width:0 0 7px 7px;border-bottom-color:#000;border-top-color:#ffdb99;position:absolute;bottom:4px;right:4px}.calendar button.active{color:#fff;background-color:#337ab7;border-color:#2e6da4;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.calendar button.active.focus,.calendar button.active:focus{color:#fff;background-color:#286090;border-color:#122b40}.calendar button.active.active,.calendar button.active:active,.calendar button.active:hover,.open>.dropdown-toggle.calendar button.active{color:#fff;background-color:#286090;border-color:#204d74}.calendar button.active.active.focus,.calendar button.active.active:focus,.calendar button.active.active:hover,.calendar button.active:active.focus,.calendar button.active:active:focus,.calendar button.active:active:hover,.open>.dropdown-toggle.calendar button.active.focus,.open>.dropdown-toggle.calendar button.active:focus,.open>.dropdown-toggle.calendar button.active:hover{color:#fff;background-color:#204d74;border-color:#122b40}.calendar button.active.active,.calendar button.active:active,.open>.dropdown-toggle.calendar button.active{background-image:none}.calendar button.active.disabled.focus,.calendar button.active.disabled:focus,.calendar button.active.disabled:hover,.calendar button.active[disabled].focus,.calendar button.active[disabled]:focus,.calendar button.active[disabled]:hover,fieldset[disabled] .calendar button.active.focus,fieldset[disabled] .calendar button.active:focus,fieldset[disabled] .calendar button.active:hover{background-color:#337ab7;border-color:#2e6da4}.calendar button.active .badge{color:#337ab7;background-color:#fff}.calendar button.active.today:before{border-bottom-color:#fff}',"",{version:3,sources:["/./js/components/calendar.vue"],names:[],mappings:"AAAA,UAAU,WAAY,gBAAgB,iBAAiB,CAAC,YAAY,aAAa,CAAC,qBAAqB,SAAS,CAAC,cAAc,gBAAiB,oBAAoB,oBAAoB,YAAY,CAAC,sBAAsB,mBAAmB,iBAAiB,YAAY,CAAC,wCAAwC,mBAAmB,WAAW,MAAM,CAAC,eAAe,oBAAoB,oBAAoB,aAAa,mBAAmB,cAAc,CAAC,sBAAsB,eAAgB,CAAC,2BAA2B,YAAY,iBAAiB,gBAAgB,CAAC,sBAAsB,oBAAoB,oBAAoB,aAAa,mBAAmB,kBAAkB,aAAa,CAAC,oDAAoD,mBAAmB,kBAAkB,cAAc,iBAAiB,CAAC,2CAA2C,mBAAmB,cAAc,CAAC,yDAAyD,mBAAmB,iBAAiB,aAAa,kBAAkB,YAAY,gBAAgB,CAAC,iBAAiB,gBAAiB,oBAAoB,oBAAoB,YAAY,CAAC,iBAAiB,YAAY,WAAW,gBAAgB,YAAY,iBAAiB,CAAC,uBAAuB,eAAe,CAAC,0CAA0C,UAAU,CAAC,kDAAkD,gBAAgB,cAAc,CAAC,0DAA0D,gBAAgB,WAAW,kBAAkB,CAAC,uBAAuB,WAAW,yBAAyB,qBAAqB,iBAAiB,CAAC,0DAA0D,WAAW,yBAAyB,oBAAoB,CAAC,AAAsF,sIAAyG,WAAW,yBAAyB,oBAAoB,CAAC,iXAAiX,WAAW,yBAAyB,oBAAoB,CAAC,yGAAyG,qBAAqB,CAAC,uXAAuX,yBAAyB,oBAAoB,CAAC,8BAA8B,cAAc,qBAAqB,CAAC,6BAA6B,kBAAkB,CAAC,uEAAuE,mBAAmB,UAAU,CAAC,8BAA8B,WAAW,qBAAqB,yBAAyB,yBAAyB,yBAAyB,yBAAyB,kBAAkB,WAAW,SAAS,CAAC,wBAAwB,WAAW,yBAAyB,qBAAqB,oCAAqC,CAAC,4DAA4D,WAAW,yBAAyB,oBAAoB,CAAC,AAAuF,0IAA4G,WAAW,yBAAyB,oBAAoB,CAAC,0XAA0X,WAAW,yBAAyB,oBAAoB,CAAC,4GAA4G,qBAAqB,CAAC,gYAAgY,yBAAyB,oBAAoB,CAAC,+BAA+B,cAAc,qBAAqB,CAAC,qCAAqC,wBAAwB,CAAC",file:"calendar.vue",sourcesContent:[".calendar{color:black;min-width:210px;border-radius:4px}.calendar>*{display:block}.calendar .fa-remove{color:red}.calendar nav{font-weight:bold;display:-webkit-box;display:-ms-flexbox;display:flex}.calendar nav .switch{-webkit-box-flex:2;-ms-flex:2 0 50%;flex:2 0 50%}.calendar nav .prev,.calendar nav .next{-webkit-box-flex:1;-ms-flex:1;flex:1}.calendar main{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.calendar main header{font-weight:bold}.calendar main header span{height:30px;padding-top:10px;line-height:20px}.calendar main.days>*{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 0 100%;flex:1 0 100%}.calendar main.days span,.calendar main.days button{-webkit-box-flex:1;-ms-flex:1 0 30px;flex:1 0 30px;text-align:center}.calendar main.months,.calendar main.years{-ms-flex-wrap:wrap;flex-wrap:wrap}.calendar main.months button,.calendar main.years button{-webkit-box-flex:1;-ms-flex:1 0 25%;flex:1 0 25%;text-align:center;height:54px;line-height:54px}.calendar footer{font-weight:bold;display:-webkit-box;display:-ms-flexbox;display:flex}.calendar button{height:30px;width:100%;background:none;border:none;border-radius:4px}.calendar button:hover{background:#eee}.calendar button.old,.calendar button.new{color:#777}.calendar button.day:hover,.calendar button:focus{background:#eee;cursor:pointer}.calendar button:disabled,.calendar button:disabled:hover{background:none;color:#777;cursor:not-allowed}.calendar button.today{color:#000;background-color:#ffdb99;border-color:#ffb733;position:relative}.calendar button.today:focus,.calendar button.today.focus{color:#000;background-color:#ffc966;border-color:#b37400}.calendar button.today:hover{color:#000;background-color:#ffc966;border-color:#f59e00}.calendar button.today:active,.calendar button.today.active,.open>.dropdown-toggle.calendar button.today{color:#000;background-color:#ffc966;border-color:#f59e00}.calendar button.today:active:hover,.calendar button.today.active:hover,.open>.dropdown-toggle.calendar button.today:hover,.calendar button.today:active:focus,.calendar button.today.active:focus,.open>.dropdown-toggle.calendar button.today:focus,.calendar button.today:active.focus,.calendar button.today.active.focus,.open>.dropdown-toggle.calendar button.today.focus{color:#000;background-color:#ffbc42;border-color:#b37400}.calendar button.today:active,.calendar button.today.active,.open>.dropdown-toggle.calendar button.today{background-image:none}.calendar button.today.disabled:hover,.calendar button.today[disabled]:hover,fieldset[disabled] .calendar button.today:hover,.calendar button.today.disabled:focus,.calendar button.today[disabled]:focus,fieldset[disabled] .calendar button.today:focus,.calendar button.today.disabled.focus,.calendar button.today[disabled].focus,fieldset[disabled] .calendar button.today.focus{background-color:#ffdb99;border-color:#ffb733}.calendar button.today .badge{color:#ffdb99;background-color:#000}.calendar button.today:focus{background:#ffc966}.calendar button.today:disabled,.calendar button.today:disabled:active{background:#ffdb99;color:#777}.calendar button.today:before{content:'';display:inline-block;border:solid transparent;border-width:0 0 7px 7px;border-bottom-color:#000;border-top-color:#ffdb99;position:absolute;bottom:4px;right:4px}.calendar button.active{color:#fff;background-color:#337ab7;border-color:#2e6da4;text-shadow:0 -1px 0 rgba(0,0,0,0.25)}.calendar button.active:focus,.calendar button.active.focus{color:#fff;background-color:#286090;border-color:#122b40}.calendar button.active:hover{color:#fff;background-color:#286090;border-color:#204d74}.calendar button.active:active,.calendar button.active.active,.open>.dropdown-toggle.calendar button.active{color:#fff;background-color:#286090;border-color:#204d74}.calendar button.active:active:hover,.calendar button.active.active:hover,.open>.dropdown-toggle.calendar button.active:hover,.calendar button.active:active:focus,.calendar button.active.active:focus,.open>.dropdown-toggle.calendar button.active:focus,.calendar button.active:active.focus,.calendar button.active.active.focus,.open>.dropdown-toggle.calendar button.active.focus{color:#fff;background-color:#204d74;border-color:#122b40}.calendar button.active:active,.calendar button.active.active,.open>.dropdown-toggle.calendar button.active{background-image:none}.calendar button.active.disabled:hover,.calendar button.active[disabled]:hover,fieldset[disabled] .calendar button.active:hover,.calendar button.active.disabled:focus,.calendar button.active[disabled]:focus,fieldset[disabled] .calendar button.active:focus,.calendar button.active.disabled.focus,.calendar button.active[disabled].focus,fieldset[disabled] .calendar button.active.focus{background-color:#337ab7;border-color:#2e6da4}.calendar button.active .badge{color:#337ab7;background-color:#fff}.calendar button.active.today:before{border-bottom-color:#fff}"],sourceRoot:"webpack://"}])},586:function(e,t){e.exports=' <div class=calendar :class="[ \'view\' ]"> <div class=calendar-{{view}}> <nav> <button class=prev @click.prevent=previous :disabled=previousDisabled> <span class="fa fa-chevron-left"></span> </button> <button class=switch @click.prevent=zoomOut>{{ rangeDisplay }}</button> <button class=next @click.prevent=next :disabled=nextDisabled> <span class="fa fa-chevron-right"></span> </button> </nav> <main v-if="view == \'days\'" class=days> <header> <span class=dow v-for="day in days">{{ day }}</span> </header> <div v-for="week in currentMonthDays"> <button v-for="day in week" class=day :class=dayClasses(day) @click.prevent=pickDay(day) :disabled=isDisabled(day)> {{ day.date() }} </button> </div> </main> <main v-if="view == \'months\'" class=months> <button v-for="(idx, month) in months" class=month @click.prevent=pickMonth(idx) :disabled=isMonthDisabled(idx)> {{ month }} </button> </main> <main v-if="view == \'years\'" class=years> <button v-for="year in yearsRange" class=year @click.prevent=pickYear(year) :disabled=isYearDisabled(year)> {{ year }} </button> </main> <footer> <button @click.prevent=pickDay(today)>{{ _(\'Today\') }}</button> <button @click.prevent=clear> <span class="fa fa-remove"></span> {{ _(\'Clear\') }} </button> </footer> </div> </div> '},587:function(e,t,n){var i=n(585);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1127:function(e,t,n){var i,o;i=n(1588),o=n(1684),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1204:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseField=t.FieldComponentMixin=void 0;var i=n(5),o=_interopRequireDefault(i),r=n(17),a=_interopRequireDefault(r),s=n(582),l=_interopRequireDefault(s),d=n(27),c=_interopRequireDefault(d),u=(t.FieldComponentMixin={props:{field:{type:Object,default:function(){return{}}},model:Object,value:null,description:null,property:Object,required:Boolean,placeholder:String,readonly:Boolean}},t.BaseField={name:"base-field",data:function(){return{errors:[]}},components:{"text-input":n(1211),"hidden-input":n(1209),"select-input":n(1207),"markdown-editor":n(1210),"date-picker":n(1206),checkbox:n(1208)},props:{field:{type:Object,default:function(){return{}},required:!0},model:{type:Object,default:function(){return{}},required:!0},schema:{type:Object,default:function(){return{}},required:!0}},computed:{description:function(){var e=this.property;return e&&e.hasOwnProperty("description")?e.description:void 0},property:function(){return this.schema.properties.hasOwnProperty(this.field.id)?this.schema.properties[this.field.id]:(o.default.warn('Field "'+this.field.id+'" not found in schema'),{})},required:function(){return!(!this.field||!this.schema.hasOwnProperty("required"))&&this.schema.required.indexOf(this.field.id)>=0},is_bool:function(){return this.property&&"boolean"===this.property.type},is_hidden:function(){return this.field&&"hidden"===this.field.type},value:function value(){var value=void 0;return this.model&&this.field&&(value=l.default.getattr(this.model,this.field.id)),(void 0===value||null===value)&&this.property&&this.property.hasOwnProperty("default")&&(value=this.property.default),value},placeholder:function(){return this.field.placeholder||this.field.label||""},readonly:function(){return this.field.readonly||!1},widget:function widget(){var widget=void 0;return this.field.widget?widget=this.field.widget:"boolean"===this.property.type?widget="checkbox":"string"===this.property.type&&("markdown"===this.property.format?widget="markdown-editor":this.property.enum&&(widget="select-input")),widget=widget||"text-input",c.default.util.resolveAsset(this.$options,"components",widget)||(this.$options.components[widget]=function(e,t){n.e(47,function(t){var n=[t(1252)("./"+widget+".vue")];e.apply(null,n)}.bind(this))}),widget}},ready:function(){(0,a.default)(this.$el).find(".form-help").popover({placement:"left",trigger:"hover",container:"body",html:!0})}});t.default=u},1206:function(e,t,n){var i,o;n(1230),i=n(1214),o=n(1224),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1207:function(e,t,n){var i,o;i=n(1217),o=n(1227),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1208:function(e,t,n){var i,o;n(1229),i=n(1213),o=n(1223),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1209:function(e,t,n){var i,o;i=n(1215),o=n(1225),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1210:function(e,t,n){var i,o;n(1231),i=n(1216),o=n(1226),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1211:function(e,t,n){var i,o;i=n(1218),o=n(1228),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1212:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function empty_schema(){return{properties:{},required:[]}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),o=_interopRequireDefault(i),r=n(288),a=_interopRequireDefault(r),s=n(70),l=_interopRequireDefault(s),d=n(83),c=n(582),u=n(5),p=_interopRequireDefault(u),h=n(18),f=_interopRequireDefault(h),g=n(17),v=_interopRequireDefault(g);n(1232);var m={defaultVariables:{O:"{O}",1:"{1}",ISO:"{ISO}"}};v.default.extend(v.default.validator.messages,{required:(0,d._)("valid-required"),remote:(0,d._)("valid-remote"),email:(0,d._)("valid-email"),url:(0,d._)("valid-url"),date:(0,d._)("valid-date"),dateISO:(0,d._)("valid-date-iso",{interpolation:m}),number:(0,d._)("valid-number"),digits:(0,d._)("valid-digits"),creditcard:(0,d._)("valid-creditcard"),equalTo:(0,d._)("valid-equal-to"),maxlength:v.default.validator.format((0,d._)("valid-maxlength",{interpolation:m})),minlength:v.default.validator.format((0,d._)("valid-minlength",{interpolation:m})),rangelength:v.default.validator.format((0,d._)("valid-range-length",{interpolation:m})),range:v.default.validator.format((0,d._)("valid-range",{interpolation:m})),max:v.default.validator.format((0,d._)("valid-max",{interpolation:m})),min:v.default.validator.format((0,d._)("valid-min",{interpolation:m}))}),v.default.validator.addMethod("dateGreaterThan",function(e,t,n){var i=(0,f.default)(document.getElementById(n).value);return this.optional(t)||(0,f.default)(e).isAfter(i)},v.default.validator.format((0,d._)("Date should be after start date")));var b=["color","date","datetime","datetime-local","email","hidden","month","range","search","tel","text","time","url","week"],y=["select","textarea"];t.default={name:"base-form",props:{fields:Array,model:Object,defs:Object,readonly:{type:Boolean,default:!1},fill:Boolean},computed:{schema:function schema(){if(!this.fields||!this.model&&!this.defs)return empty_schema();var e=empty_schema(),schema=this.defs||this.model&&this.model.__schema__||empty_schema();return this.fields.forEach(function(t){if(schema.hasOwnProperty("properties")&&schema.properties.hasOwnProperty(t.id))return e.properties[t.id]=schema.properties[t.id],void(schema.required&&schema.required.indexOf(t.id)>=0&&e.required.push(t.id));var n=t.id.split("."),i=schema,o=!0,r="",s=void 0,d=!0,c=!1,u=void 0;try{for(var h,f=(0,a.default)(n);!(d=(h=f.next()).done);d=!0){if(s=h.value,r+=""===r?s:"."+s,i.hasOwnProperty("$ref")&&(i=l.default.resolve(i.$ref)),!i.properties||!i.properties.hasOwnProperty(s))return void p.default.warn('Property "'+s+'" not found in schema');o=o&&i.hasOwnProperty("required")&&i.required.indexOf(s)>=0,o&&e.required.indexOf(r)<0&&e.required.push(r),i.properties[s].hasOwnProperty("$ref")&&(i=l.default.resolve(i.properties[s].$ref))}}catch(g){c=!0,u=g}finally{try{!d&&f.return&&f.return()}finally{if(c)throw u}}e.properties[t.id]=i.properties[s],o&&!t.id in e.required&&e.required.push(t.id)}),e},$form:function(){if(this)return this.$refs.form||this.$els.form||this.$el}},attached:function(){(0,v.default)(this.$form).validate({ignore:"",errorClass:"help-block",highlight:function(e){(0,v.default)(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){(0,v.default)(e).closest(".form-group").removeClass("has-error")},success:function(e){e.closest(".form-group").addClass("has-success"),e.text()||e.remove()},errorPlacement:function(e,t){(0,v.default)(t).closest(".form-group,.field-wrapper").append(e)}}),this.$broadcast("form:ready")},beforeDestroy:function(){this.$form&&(this.$broadcast("form:beforeDestroy"),(0,v.default)(this.$form).data("validator",null),this.$broadcast("form:destroy"))},methods:{validate:function(){return(0,v.default)(this.$form).valid()},serialize:function(){var e=this.$form.querySelectorAll("input,textarea,select"),t={};Array.prototype.map.call(e,function(e){var t=void 0;return"select"===e.tagName.toLowerCase()&&e.multiple?(t=[].concat((0,o.default)(e.options)),t=t.filter(function(e){return e.selected}),t=t.map(function(e){return e.value})):t=y.includes(e.tagName.toLowerCase())||b.includes(e.type.toLowerCase())?e.value||void 0:"checkbox"===e.type?e.checked:e.value,{name:e.name,value:t}}).forEach(function(e){(0,c.setattr)(t,e.name,e.value)});for(var n in t)if((0,c.isObject)(t[n])&&this.schema.required.indexOf(n)<0){var i=!0;for(var r in t[n])t[n].hasOwnProperty(r)&&(i&=!t[n][r]);i&&delete t[n]}return t},on_error:function(e){if((0,c.isString)(e))return void p.default.error(e);if(e.headers&&"X-Sentry-ID"in e.headers&&this.$dispatch("notify",{type:"error",icon:"exclamation-triangle",title:this._("An error occured"),details:this._("The error identifier is {id}",{id:e.headers["X-Sentry-ID"]})}),"data"in e){var t={};try{t=JSON.parse(e.data)}catch(n){return void p.default.warn("Parsing error:",n)}"errors"in t?this.fill_errors(t.errors):(0,v.default)(this.$form).append(this.error_element("",t.message))}},fill_errors:function(e){var t=this;[].concat((0,o.default)(this.$form.querySelectorAll("input,textarea,select"))).forEach(function(n){if(n.name in e){var i=n.name,o=e[i][0];(0,v.default)(n).closest(".form-group,.field-wrapper").removeClass("has-success").addClass("has-error").append(t.error_element(i,o))}})},error_element:function(e,t){return(0,v.default)("#form-"+e+"-error").remove(),'<p class="form-error" id="form-'+e+'-error">'+t+"</p>"}}}},1213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1204);t.default={name:"Checkbox",mixins:[i.FieldComponentMixin]}},1214:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=_interopRequireDefault(i),r=n(583),a=_interopRequireDefault(r),s=n(1204),l="L",d="YYYY-MM-DDTHH:mm:ss";t.default={name:"date-picker",mixins:[s.FieldComponentMixin],props:{serializable:{type:Boolean,default:!0}},components:{Calendar:a.default},data:function(){return{picking:!1,ISO_FORMAT:d}},computed:{dateFormat:function(){return this.field.format||l}},events:{"calendar:date:selected":function(e){return this.value=e,this.picking=!1,!0},"calendar:date:cleared":function(){return this.value=null,this.picking=!1,!0}},methods:{onFocus:function(){this.picking||this.$nextTick(this.$refs.calendar.focus),this.picking=!0},onChange:function(e){try{this.value=(0,o.default)(e.target.value,this.dateFormat)}catch(e){}},onOutside:function(){this.picking=!1}}}},1215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1204);t.default={name:"hidden-input",mixins:[i.FieldComponentMixin]}},1216:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=_interopRequireDefault(i),r=n(15),a=_interopRequireDefault(r),s=n(83),l=n(1204),d=n(492),c=_interopRequireDefault(d),u="<!--- excerpt -->";
n(1219),o.default.fn.markdown.messages[a.default.lang]={Bold:(0,s._)("Bold"),Italic:(0,s._)("Italic"),Heading:(0,s._)("Heading"),"URL/Link":(0,s._)("URL/Link"),Image:(0,s._)("Image"),List:(0,s._)("List"),Preview:(0,s._)("Preview"),"strong text":(0,s._)("strong text"),"emphasized text":(0,s._)("emphasized text"),"heading text":(0,s._)("heading text"),"enter link description here":(0,s._)("enter link description here"),"Insert Hyperlink":(0,s._)("Insert Hyperlink"),"enter image description here":(0,s._)("enter image description here"),"Insert Image Hyperlink":(0,s._)("Insert Image Hyperlink"),"enter image title here":(0,s._)("enter image title here"),"list text here":(0,s._)("list text here")},t.default={name:"markdown-editor",props:["rows"],mixins:[l.FieldComponentMixin],ready:function(){(0,o.default)(this.$el).markdown({language:a.default.lang,autofocus:!1,savable:!1,resize:"both",iconlibrary:"fa",onPreview:function(e){return(0,c.default)(e.getContent())},additionalButtons:[[{name:"extras",data:[{name:"btnSummary",title:(0,s._)("Summary"),icon:"fa fa-scissors",callback:function(e){var t=e.getSelection(),n=t.start;e.replaceSelection(u),e.setSelection(n,n+u.length)}}]}]]})}}},1217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=n(1204);t.default={name:"select-input",mixins:[o.FieldComponentMixin],computed:{options:function(){return this.property||this.field?this.field.values?this.field.values instanceof i.List?this.field.values.items:this.field.values:this.property.enum&&this.field.labels?this.property.enum.map(function(e){return{value:e,text:this.field.labels[e]}}):this.property.enum?this.property.enum.map(function(e){return{value:e,text:e}}):[]:[]}},filters:{extract:function(e){return this.field.map?e.map(this.field.map):e}}}},1218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1204);t.default={name:"text-input",mixins:[i.FieldComponentMixin]}},1219:function(e,t,n){var i,o,r;(function(a){!function(a){o=[n(17)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=function(t,n){var i=["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"];e.each(i,function(i,o){"undefined"!=typeof e(t).data(o)&&(n="object"==typeof n?n:{},n[o]=e(t).data(o))}),this.$ns="bootstrap-markdown",this.$element=e(t),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=e.extend(!0,{},e.fn.markdown.defaults,n,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};t.prototype={constructor:t,__alterButtons:function(t,n){var i=this.$handler,o="all"==t,r=this;e.each(i,function(e,i){var a=!0;a=!o&&i.indexOf(t)<0,a===!1&&n(r.$editor.find('button[data-handler="'+i+'"]'))})},__buildButtons:function(t,n){var i,o=this.$ns,r=this.$handler,s=this.$callback;for(i=0;i<t.length;i++){var l,d=t[i];for(l=0;l<d.length;l++){var c,u=d[l].data,p=e("<div/>",{class:"btn-group"});for(c=0;c<u.length;c++){var h,f,g=u[c],v=o+"-"+g.name,m=this.__getIcon(g.icon),b=g.btnText?g.btnText:"",y=g.btnClass?g.btnClass:"btn",x=g.tabIndex?g.tabIndex:"-1",A="undefined"!=typeof g.hotkey?g.hotkey:"",_="undefined"!=typeof a.hotkeys&&""!==A?" ("+A+")":"";h=e("<button></button>"),h.text(" "+this.__localize(b)).addClass("btn-default btn-sm").addClass(y),y.match(/btn\-(primary|success|info|warning|danger|link)/)&&h.removeClass("btn-default"),h.attr({type:"button",title:this.__localize(g.title)+_,tabindex:x,"data-provider":o,"data-handler":v,"data-hotkey":A}),g.toggle===!0&&h.attr("data-toggle","button"),f=e("<span/>"),f.addClass(m),f.prependTo(h),p.append(h),r.push(v),s.push(g.callback)}n.append(p)}}return n},__setListener:function(){var t="undefined"!=typeof this.$textarea.attr("rows"),n=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",i=t?this.$textarea.attr("rows"):n;this.$textarea.attr("rows",i),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:e.proxy(this.focus,this),keyup:e.proxy(this.keyup,this),change:e.proxy(this.change,this),select:e.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",e.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",e.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(t){var n=e(t.currentTarget),i=this.$handler,o=this.$callback,r=n.attr("data-handler"),a=i.indexOf(r),s=o[a];e(t.currentTarget).focus(),s(this),this.change(this),r.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var n=e.fn.markdown.messages,i=this.$options.language;return"undefined"!=typeof n&&"undefined"!=typeof n[i]&&"undefined"!=typeof n[i][t]?n[i][t]:t},__getIcon:function(e){return"object"==typeof e?e[this.$options.iconlibrary]:e},setFullscreen:function(t){var n=this.$editor,i=this.$textarea;t===!0?(n.addClass("md-fullscreen-mode"),e("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(n.removeClass("md-fullscreen-mode"),e("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,i.focus()},showEditor:function(){var t,n=this,i=this.$ns,o=this.$element,r=(o.css("height"),o.css("width"),this.$editable),s=this.$handler,l=this.$callback,d=this.$options,c=e("<div/>",{class:"md-editor",click:function(){n.focus()}});if(null===this.$editor){var u=e("<div/>",{class:"md-header btn-toolbar"}),p=[];if(d.buttons.length>0&&(p=p.concat(d.buttons[0])),d.additionalButtons.length>0&&e.each(d.additionalButtons[0],function(t,n){var i=e.grep(p,function(e,t){return e.name===n.name});i.length>0?i[0].data=i[0].data.concat(n.data):p.push(d.additionalButtons[0][t])}),d.reorderButtonGroups.length>0&&(p=p.filter(function(e){return d.reorderButtonGroups.indexOf(e.name)>-1}).sort(function(e,t){return d.reorderButtonGroups.indexOf(e.name)<d.reorderButtonGroups.indexOf(t.name)?-1:d.reorderButtonGroups.indexOf(e.name)>d.reorderButtonGroups.indexOf(t.name)?1:0})),p.length>0&&(u=this.__buildButtons([p],u)),d.fullscreen.enable&&u.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(d.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(e){e.preventDefault(),n.setFullscreen(!0)}),c.append(u),o.is("textarea"))o.before(c),t=o,t.addClass("md-input"),c.append(t);else{var h="function"==typeof toMarkdown?toMarkdown(o.html()):o.html(),f=e.trim(h);t=e("<textarea/>",{class:"md-input",val:f}),c.append(t),r.el=o,r.type=o.prop("tagName").toLowerCase(),r.content=o.html(),e(o[0].attributes).each(function(){r.attrKeys.push(this.nodeName),r.attrValues.push(this.nodeValue)}),o.replaceWith(c)}var g=e("<div/>",{class:"md-footer"}),v=!1,m="";if(d.savable){v=!0;var b="cmdSave";s.push(b),l.push(d.onSave),g.append('<button class="btn btn-success" data-provider="'+i+'" data-handler="'+b+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(m="function"==typeof d.footer?d.footer(this):d.footer,""!==e.trim(m)&&(v=!0,g.append(m)),v&&c.append(g),d.width&&"inherit"!==d.width&&(a.isNumeric(d.width)?(c.css("display","table"),t.css("width",d.width+"px")):c.addClass(d.width)),d.height&&"inherit"!==d.height)if(a.isNumeric(d.height)){var y=d.height;u&&(y=Math.max(0,y-u.outerHeight())),g&&(y=Math.max(0,y-g.outerHeight())),t.css("height",y+"px")}else c.addClass(d.height);this.$editor=c,this.$textarea=t,this.$editable=r,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',e.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof a.hotkeys&&u.find('[data-provider="bootstrap-markdown"]').each(function(){var n=e(this),i=n.attr("data-hotkey");""!==i.toLowerCase()&&t.bind("keydown",i,function(){return n.trigger("click"),!1})}),"preview"===d.initialstate?this.showPreview():"fullscreen"===d.initialstate&&d.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return d.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),d.fullscreen.enable&&d.fullscreen!==!1&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(d.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(e){e.preventDefault(),n.setFullscreen(!1)})),this.hideButtons(d.hiddenButtons),this.disableButtons(d.disabledButtons),d.onShow(this),this},parseContent:function(e){var t,e=e||this.$textarea.val();return t=this.$options.parser?this.$options.parser(e):"object"==typeof markdown?markdown.toHTML(e):"function"==typeof marked?marked(e):e},showPreview:function(){var t,n,i=this.$options,o=this.$textarea,r=o.next(),a=e("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview?this:(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),n=i.onPreview(this),t="string"==typeof n?n:this.parseContent(),a.html(t),r&&"md-footer"==r.attr("class")?a.insertBefore(r):o.parent().append(a),a.css({width:o.outerWidth()+"px",height:o.outerHeight()+"px"}),this.$options.resize&&a.css("resize",this.$options.resize),o.hide(),a.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this)},hidePreview:function(){this.$isPreview=!1;var e=this.$editor.find('div[data-provider="markdown-preview"]');return e.remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(e){return this.$textarea.val(e),this},findSelection:function(e){var t,n=this.getContent();if(t=n.indexOf(e),t>=0&&e.length>0){var i,o=this.getSelection();return this.setSelection(t,t+e.length),i=this.getSelection(),this.setSelection(o.start,o.end),i}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(e,t){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=e,n.selectionEnd=t}||function(){return null})()},replaceSelection:function(e){var t=this.$textarea[0];return("selectionStart"in t&&function(){return t.value=t.value.substr(0,t.selectionStart)+e+t.value.substr(t.selectionEnd,t.value.length),t.selectionStart=t.value.length,this}||function(){return t.value+=e,a(t)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var e,t=this.$nextTab.shift();return"function"==typeof t?e=t():"object"==typeof t&&t.length>0&&(e=t),e},setNextTab:function(e,t){if("string"==typeof e){var n=this;this.$nextTab.push(function(){return n.findSelection(e)})}else if("number"==typeof e&&"number"==typeof t){var i=this.getSelection();this.setSelection(e,t),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end)}},__parseButtonNameParam:function(e){return"string"==typeof e?e.split(" "):e},enableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(e,t){i.__alterButtons(n[e],function(e){e.removeAttr("disabled")})}),this},disableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(e,t){i.__alterButtons(n[e],function(e){e.attr("disabled","disabled")})}),this},hideButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(e,t){i.__alterButtons(n[e],function(e){e.addClass("hidden")})}),this},showButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(e,t){i.__alterButtons(n[e],function(e){e.removeClass("hidden")})}),this},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},keyup:function(e){var t=!1;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var n;if(n=this.getNextTab(),null!==n){var i=this;setTimeout(function(){i.setSelection(n.start,n.end)},500),t=!0}else{var o=this.getSelection();o.start==o.end&&o.end==this.getContent().length?t=!1:(this.setSelection(this.getContent().length,this.getContent().length),t=!0)}break;case 13:t=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),t=!1;break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault()),this.$options.onChange(this)},change:function(e){return this.$options.onChange(this),this},select:function(e){return this.$options.onSelect(this),this},focus:function(t){var n=this.$options,i=(n.hideable,this.$editor);return i.addClass("active"),e(document).find(".md-editor").each(function(){if(e(this).attr("id")!==i.attr("id")){var t;t=e(this).find("textarea").data("markdown"),null===t&&(t=e(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur()}}),n.onFocus(this),this},blur:function(t){var n=this.$options,i=n.hideable,o=this.$editor,r=this.$editable;if(o.hasClass("active")||0===this.$element.parent().length){if(o.removeClass("active"),i)if(null!==r.el){var a=e("<"+r.type+"/>"),s=this.getContent(),l=this.parseContent(s);e(r.attrKeys).each(function(e,t){a.attr(r.attrKeys[e],r.attrValues[e])}),a.html(l),o.replaceWith(a)}else o.hide();n.onBlur(this)}return this}};var n=e.fn.markdown;e.fn.markdown=function(n){return this.each(function(){var i=e(this),o=i.data("markdown"),r="object"==typeof n&&n;o||i.data("markdown",o=new t(this,r))})},e.fn.markdown.messages={},e.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(e){var t,n,i=e.getSelection(),o=e.getContent();t=0===i.length?e.__localize("strong text"):i.text,"**"===o.substr(i.start-2,2)&&"**"===o.substr(i.end,2)?(e.setSelection(i.start-2,i.end+2),e.replaceSelection(t),n=i.start-2):(e.replaceSelection("**"+t+"**"),n=i.start+2),e.setSelection(n,n+t.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(e){var t,n,i=e.getSelection(),o=e.getContent();t=0===i.length?e.__localize("emphasized text"):i.text,"_"===o.substr(i.start-1,1)&&"_"===o.substr(i.end,1)?(e.setSelection(i.start-1,i.end+1),e.replaceSelection(t),n=i.start-1):(e.replaceSelection("_"+t+"_"),n=i.start+1),e.setSelection(n,n+t.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(e){var t,n,i,o,r=e.getSelection(),a=e.getContent();t=0===r.length?e.__localize("heading text"):r.text+"\n",i=4,"### "===a.substr(r.start-i,i)||(i=3,"###"===a.substr(r.start-i,i))?(e.setSelection(r.start-i,r.end),e.replaceSelection(t),n=r.start-i):r.start>0&&(o=a.substr(r.start-1,1),!!o&&"\n"!=o)?(e.replaceSelection("\n\n### "+t),n=r.start+6):(e.replaceSelection("### "+t),n=r.start+4),e.setSelection(n,n+t.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var n,i,o,r=t.getSelection();t.getContent();n=0===r.length?t.__localize("enter link description here"):r.text,o=prompt(t.__localize("Insert Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==o&&""!==o&&"http://"!==o&&a.test(o)){var s=e("<div>"+o+"</div>").text();t.replaceSelection("["+n+"]("+s+")"),i=r.start+1,t.setSelection(i,i+n.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var n,i,o,r=t.getSelection();t.getContent();n=0===r.length?t.__localize("enter image description here"):r.text,o=prompt(t.__localize("Insert Image Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==o&&""!==o&&"http://"!==o&&a.test(o)){var s=e("<div>"+o+"</div>").text();t.replaceSelection("!["+n+"]("+s+' "'+t.__localize("enter image title here")+'")'),i=r.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(i,i+n.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var n,i,o=t.getSelection();t.getContent();if(0===o.length)n=t.__localize("list text here"),t.replaceSelection("- "+n),i=o.start+2;else if(o.text.indexOf("\n")<0)n=o.text,t.replaceSelection("- "+n),i=o.start+2;else{var r=[];r=o.text.split("\n"),n=r[0],e.each(r,function(e,t){r[e]="- "+t}),t.replaceSelection("\n\n"+r.join("\n")),i=o.start+4}t.setSelection(i,i+n.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var n,i,o=t.getSelection();t.getContent();if(0===o.length)n=t.__localize("list text here"),t.replaceSelection("1. "+n),i=o.start+3;else if(o.text.indexOf("\n")<0)n=o.text,t.replaceSelection("1. "+n),i=o.start+3;else{var r=[];r=o.text.split("\n"),n=r[0],e.each(r,function(e,t){r[e]="1. "+t}),t.replaceSelection("\n\n"+r.join("\n")),i=o.start+5}t.setSelection(i,i+n.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(e){var t,n,i=e.getSelection(),o=e.getContent();t=0===i.length?e.__localize("code text here"):i.text,"```\n"===o.substr(i.start-4,4)&&"\n```"===o.substr(i.end,4)?(e.setSelection(i.start-4,i.end+4),e.replaceSelection(t),n=i.start-4):"`"===o.substr(i.start-1,1)&&"`"===o.substr(i.end,1)?(e.setSelection(i.start-1,i.end+1),e.replaceSelection(t),n=i.start-1):o.indexOf("\n")>-1?(e.replaceSelection("```\n"+t+"\n```"),n=i.start+4):(e.replaceSelection("`"+t+"`"),n=i.start+1),e.setSelection(n,n+t.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var n,i,o=t.getSelection();t.getContent();if(0===o.length)n=t.__localize("quote here"),t.replaceSelection("> "+n),i=o.start+2;else if(o.text.indexOf("\n")<0)n=o.text,t.replaceSelection("> "+n),i=o.start+2;else{var r=[];r=o.text.split("\n"),n=r[0],e.each(r,function(e,t){r[e]="> "+t}),t.replaceSelection("\n\n"+r.join("\n")),i=o.start+4}t.setSelection(i,i+n.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(e){var t=e.$isPreview;t===!1?e.showPreview():e.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(e){},onPreview:function(e){},onSave:function(e){},onBlur:function(e){},onFocus:function(e){},onChange:function(e){},onFullscreen:function(e){},onSelect:function(e){}},e.fn.markdown.Constructor=t,e.fn.markdown.noConflict=function(){return e.fn.markdown=n,this};var i=function(e){var t=e;return t.data("markdown")?void t.data("markdown").showEditor():void t.markdown()},o=function(t){var n=e(document.activeElement);e(document).find(".md-editor").each(function(){var t=e(this),i=n.closest(".md-editor")[0]===this,o=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");o&&!i&&o.blur()})};e(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){i(e(this)),t.preventDefault()}).on("click focusin",function(e){o(e)}).ready(function(){e('textarea[data-provide="markdown"]').each(function(){i(e(this))})})})}).call(t,n(17))},1220:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".checkbox label{font-weight:700}","",{version:3,sources:["/./js/components/form/checkbox.vue"],names:[],mappings:"AAAA,gBAAgB,eAAgB,CAAC",file:"checkbox.vue",sourcesContent:[".checkbox label{font-weight:bold}"],sourceRoot:"webpack://"}])},1221:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".date-picker .dropdown-menu{min-width:100%;width:auto}","",{version:3,sources:["/./js/components/form/date-picker.vue"],names:[],mappings:"AAAA,4BAA4B,eAAe,UAAU,CAAC",file:"date-picker.vue",sourcesContent:[".date-picker .dropdown-menu{min-width:100%;width:auto}"],sourceRoot:"webpack://"}])},1222:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".md-editor>textarea{background:#fff;padding:6px 12px;border-bottom:none}.md-editor.active{border-color:#3c8dbc;box-shadow:none}.form-group.has-error .md-editor{border-color:#dd4b39}.form-group.has-success .md-editor{border-color:#00a65a}.md-editor .btn{border-radius:0}.md-editor .btn.btn-default{background-color:#fff}.md-editor .md-preview{color:#000;padding:6px 12px}","",{version:3,sources:["/./js/components/form/markdown-editor.vue"],names:[],mappings:"AAAA,oBAAoB,gBAAiB,iBAAiB,kBAAkB,CAAC,kBAAkB,qBAAqB,eAAe,CAAC,iCAAiC,oBAAoB,CAAC,mCAAmC,oBAAoB,CAAC,gBAAgB,eAAe,CAAC,4BAA4B,qBAAsB,CAAC,uBAAuB,WAAY,gBAAgB,CAAC",file:"markdown-editor.vue",sourcesContent:[".md-editor>textarea{background:white;padding:6px 12px;border-bottom:none}.md-editor.active{border-color:#3c8dbc;box-shadow:none}.form-group.has-error .md-editor{border-color:#dd4b39}.form-group.has-success .md-editor{border-color:#00a65a}.md-editor .btn{border-radius:0}.md-editor .btn.btn-default{background-color:white}.md-editor .md-preview{color:black;padding:6px 12px}"],sourceRoot:"webpack://"}])},1223:function(e,t){e.exports=" <div class=checkbox> <label :for=field.id :class=\"{ 'required': required }\"> <input type=checkbox :id=field.id :name=field.id :checked=value> {{ field.label }} </label> </div> "},1224:function(e,t){e.exports=' <div class="input-group dropdown date-picker" :class="{ \'open\': picking }" v-outside=onOutside> <span class=input-group-addon><span class="fa fa-calendar"></span></span> <input type=text class=form-control v-el:input @focus=onFocus @input="onChange | debounce 500" :placeholder=placeholder :required=required :value="value|dt dateFormat \'\'" :readonly=readonly> <div class="dropdown-menu dropdown-menu-right"> <calendar v-ref:calendar :selected=value></calendar> </div> <input v-if=serializable type=hidden :name=field.id :value="value|dt ISO_FORMAT \'\'">  </div> '},1225:function(e,t){e.exports=" <input type=hidden :id=field.id :name=field.id :value=value :required=required> "},1226:function(e,t){e.exports=" <textarea class=form-control :rows=\"rows || 6\" :id=field.id :name=field.id :placeholder=placeholder :required=required :readonly=readonly>{{value || ''}}</textarea> "},1227:function(e,t){e.exports=' <select class=form-control v-model=value :multiple=field.multiple :id=field.id :name=field.id :placeholder=placeholder :required=required :disabled=readonly> <option v-for="option in options | extract" :value=option.value> {{option.text || option.value}} </option> </select> '},1228:function(e,t){e.exports=" <input type=text class=form-control :id=field.id :name=field.id :placeholder=placeholder :required=required :readonly=readonly :value=value> "},1229:function(e,t,n){var i=n(1220);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1230:function(e,t,n){var i=n(1221);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1231:function(e,t,n){var i=n(1222);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1232:function(e,t,n){var i,o,r;!function(a){o=[n(17)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function handle(){var i,o;return!n.settings.submitHandler||(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),o=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),void 0!==o&&o)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,handle()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):handle():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t,i=i.concat(n.errorList)}),n.errorList=i),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i,o,r,a,s,l,d=this[0];if(t)switch(i=e.data(d.form,"validator").settings,o=i.rules,r=e.validator.staticRules(d),t){case"add":e.extend(r,e.validator.normalizeRule(n)),delete r.messages,o[d.name]=r,n.messages&&(i.messages[d.name]=e.extend(i.messages[d.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),function(t,n){l[n]=r[n],delete r[n],"required"===n&&e(d).removeAttr("aria-required")}),l):(delete o[d.name],r)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),a.required&&(s=a.required,delete a.required,a=e.extend({required:s},a),e(d).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===t.which&&""===this.elementValue(e)||n.indexOf(t.keyCode)!==-1||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function delegate(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),o=n.settings;o[i]&&!this.is(o.ignore)&&o[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),t=this.settings.rules,e.each(t,function(n,i){t[n]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",delegate).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",delegate),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),o=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),o=this.check(i)!==!1,o?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!o),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),o},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t);
})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,n=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;n[t];t++)this.settings.unhighlight.call(this,n[t],this.settings.errorClass,"");else n.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!t.objectLength(e(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),o=t.type;return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&"undefined"!=typeof t.validity?!t.validity.badInput&&i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,o,r=e(t).rules(),a=e.map(r,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(i in r){o={method:i,parameters:r[i]};try{if(n=e.validator.methods[i].call(this,l,t,o.parameters),"dependency-mismatch"===n&&1===a){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,o),!1}catch(d){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",d),d instanceof TypeError&&(d.message+=".  Exception occurred when checking element "+t.id+", check the '"+o.method+"' method."),d}}if(!s)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),o=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):o.test(i)&&(i=e.validator.format(i.replace(o,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i,o,r,a=this.errorsFor(t),s=this.idOrName(t),l=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(a=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(n||""),i=a,this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+s+"']").length&&(r=a.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),l?l.match(new RegExp("\\b"+r+"\\b"))||(l+=" "+r):l=r,e(t).attr("aria-describedby",l),o=this.groups[t.name],o&&e.each(this.groups,function(t,n){n===o&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var n=this.idOrName(t),i=e(t).attr("aria-describedby"),o="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(o=o+", #"+i.replace(/\s+/g,", #")),this.errors().filter(o)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,i,o={},r=e(t),a=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=r.attr(n),/min|max/.test(n)&&(null===a||/number|range|text/.test(a))&&(i=Number(i)),i||0===i?o[n]=i:a===n&&"range"!==a&&(o[n]=!0);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var n,i,o={},r=e(t);for(n in e.validator.methods)i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(o[n]=i);return o},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,o){if(o===!1)return void delete t[i];if(o.param||o.depends){var r=!0;switch(typeof o.depends){case"string":r=!!e(o.depends,n.form).length;break;case"function":r=o.depends.call(n,n)}r?t[i]=void 0===o.param||o.param:delete t[i]}}),e.each(t,function(i,o){t[i]=e.isFunction(o)?o(n):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var o=e(n).val();return o&&o.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,o=0,r=0,a=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),r=parseInt(i,10),a&&(r*=2)>9&&(r-=9),o+=r,a=!a;return o%10===0},minlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i},maxlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o<=i},rangelength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i[0]&&o<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var o=e(i);return this.settings.onfocusout&&o.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===o.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var o,r,a=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t?a.valid:(a.old=t,o=this,this.startRequest(n),r={},r[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:r,context:o.currentForm,success:function(i){var r,s,l,d=i===!0||"true"===i;o.settings.messages[n.name].remote=a.originalMessage,d?(l=o.formSubmitted,o.prepareElement(n),o.formSubmitted=l,o.successList.push(n),delete o.invalid[n.name],o.showErrors()):(r={},s=i||o.defaultMessage(n,"remote"),r[n.name]=a.message=e.isFunction(s)?s(t):s,o.invalid[n.name]=!0,o.showErrors(r)),a.valid=d,o.stopRequest(n,d)}},i)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var o=e.port;"abort"===e.mode&&(n[o]&&n[o].abort(),n[o]=i)}):(t=e.ajax,e.ajax=function(i){var o=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===o?(n[r]&&n[r].abort(),n[r]=t.apply(this,arguments),n[r]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var o=e(n.target);if(o.is(t))return i.apply(o,arguments)})}})})},1233:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(491),o=_interopRequireDefault(i);t.default={name:"layout",props:{title:String,subtitle:String,page:String,actions:{type:Array,default:function(){return[]}},badges:Array},components:{NotificationZone:o.default},computed:{main_action:function(){if(this.actions.length)return this.actions[0]},menu_actions:function(){if(this.actions&&this.actions.length>1)return this.actions.slice(1)}}}},1234:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".content-header h1 a{color:#000}.content-header h1 a .fa{font-size:.4em}","",{version:3,sources:["/./js/components/layout.vue"],names:[],mappings:"AAAA,qBAAqB,UAAW,CAAC,yBAAyB,cAAc,CAAC",file:"layout.vue",sourcesContent:[".content-header h1 a{color:black}.content-header h1 a .fa{font-size:.4em}"],sourceRoot:"webpack://"}])},1235:function(e,t){e.exports=' <div class=content-wrapper> <router-view></router-view> <section class=content-header> <div v-if=main_action class="btn-group btn-group-sm btn-actions pull-right clearfix"> <div v-if=menu_actions class="btn-group btn-group-sm" role=group> <button type=button class="btn btn-info" @click=main_action.method> <span v-if=main_action.icon class="fa fa-fw fa-{{main_action.icon}}"></span> {{main_action.label}} </button> <button type=button class="btn btn-info dropdown-toggle" data-toggle=dropdown> <span class=caret></span> <span class=sr-only>Toggle Dropdown</span> </button> <ul class="dropdown-menu dropdown-menu-right" role=menu> <li v-for="action in menu_actions" :role="action.divider ? \'separator\' : false" :class="{ \'divider\': action.divider }"> <a class=pointer v-if=!action.divider @click=action.method> <span v-if=action.icon class="fa fa-fw fa-{{action.icon}}"></span> {{action.label}} </a> </li> </ul> </div> <button v-if=!menu_actions type=button class="btn btn-info btn-sm" @click=main_action.method> <span v-if=main_action.icon class="fa fa-fw fa-{{main_action.icon}}"></span> {{main_action.label}} </button> </div> <h1> <a v-if=page :href=page :title="_(\'See on the site\')"> {{ title }} <span class="fa fa-external-link"></span> </a> <span v-if=!page>{{title}}</span> <small v-if=subtitle>{{subtitle}}</small> <small v-if=badges> <span v-for="badge in badges" class="label label-{{badge.class}}">{{badge.label}}</span> </small> </h1> </section> <notification-zone></notification-zone> <section class=content> <slot></slot> </section> </div> '},1236:function(e,t,n){var i,o;n(1237),i=n(1233),o=n(1235),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1237:function(e,t,n){var i=n(1234);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1239:function(e,t,n){var i,o;n(1248),i=n(1240),o=n(1244),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1204);t.default={name:"vertical-form-field",mixins:[i.BaseField]}},1241:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1212),o=_interopRequireDefault(i),r=n(1239),a=_interopRequireDefault(r);t.default={name:"vertical-form",mixins:[o.default],components:{Field:a.default}}},1242:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".form-control{color:#555}.vertical-field .form-help{float:right;clear:both}","",{version:3,sources:["/./js/components/form/vertical-field.vue"],names:[],mappings:"AAAA,cAAc,UAAU,CAAC,2BAA2B,YAAY,UAAU,CAAC",file:"vertical-field.vue",sourcesContent:[".form-control{color:#555}.vertical-field .form-help{float:right;clear:both}"],sourceRoot:"webpack://"}])},1243:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".form-control{color:#555}","",{version:3,sources:["/./js/components/form/vertical-form.vue"],names:[],mappings:"AAAA,cAAc,UAAU,CAAC",file:"vertical-form.vue",sourcesContent:[".form-control{color:#555}"],sourceRoot:"webpack://"}])},1244:function(e,t){e.exports=' <div class=vertical-field :class="{\n    \'form-group\': !is_bool && !is_hidden,\n    \'has-error\': errors.length\n    }"> <span v-show=description class=form-help :data-content=description v-if=!is_hidden></span> <label :for=field.id :class="{ \'required\': required }" v-if="!is_hidden && !is_bool"> {{ field.label }} </label> <component :is=widget :field=field :value=value :model=model :description=description :property=property :placeholder=placeholder :required=required :readonly=readonly> </component> <label :for=field.id class=help-block v-for="error in errors">{{error}}</label> </div> '},1245:function(e,t){e.exports=' <form role=form v-el:form> <field v-for="field in fields" :field=field :schema=schema :model=model> </field> </form> '},1246:function(e,t,n){var i,o;i=n(1320),o=n(1323),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1247:function(e,t,n){var i,o;n(1249),i=n(1241),o=n(1245),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1248:function(e,t,n){var i=n(1242);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1249:function(e,t,n){var i=n(1243);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1316:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=_interopRequireDefault(i),r=n(7),a=_interopRequireDefault(r),s=n(9),l=_interopRequireDefault(s),d=n(8),c=_interopRequireDefault(d),u=function(e){function BaseError(e){(0,a.default)(this,BaseError);var t=(0,l.default)(this,(BaseError.__proto__||(0,o.default)(BaseError)).call(this));return t.message=e,t.stack=(new Error).stack,t.name=t.constructor.name,t}return(0,c.default)(BaseError,e),BaseError}(Error);t.default=u},1318:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1332),o=_interopRequireDefault(i);t.default={ready:function(){var e=this;this.$sortable=o.default.create(this.$els.sortable,{disabled:this.$options.sortable.disabled,store:this.$options.sortable.store,handle:this.$options.sortable.handle,draggable:this.$options.sortable.draggable,filter:this.$options.sortable.filter,animation:this.$options.sortable.animation||150,group:this.$options.sortable.group,ghostClass:this.$options.sortable.ghostClass,onStart:function(t){e.$emit("sorter:start",t)},onEnd:function(t){e.$emit("sorter:end",t)},onAdd:function(t){e.$emit("sorter:add",t)},onUpdate:function(t){e.$emit("sorter:update",t)},onSort:function(t){e.$emit("sorter:sort",t)},onRemove:function(t){e.$emit("sorter:remove",t)},onFilter:function(t){e.$emit("sorter:filter",t)}})}}},1320:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function lst2str(e){return Array.isArray(e)?e.join(","):e||""}function forceList(e){if(Array.isArray(e))return e;if(A.default.isString(e))return e.split(",");if(void 0===e||null===e)return[];throw new w("Expect String or Array, not "+e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=_interopRequireDefault(i),r=n(7),a=_interopRequireDefault(r),s=n(9),l=_interopRequireDefault(s),d=n(8),c=_interopRequireDefault(d),u=n(70),p=_interopRequireDefault(u),h=n(27),f=(_interopRequireDefault(h),n(17)),g=_interopRequireDefault(f),v=n(5),m=_interopRequireDefault(v),b=n(1316),y=_interopRequireDefault(b),x=n(582),A=_interopRequireDefault(x),_=n(1204);n(1322);var w=function(e){function CompleterError(){return(0,a.default)(this,CompleterError),(0,l.default)(this,(CompleterError.__proto__||(0,o.default)(CompleterError)).apply(this,arguments))}return(0,c.default)(CompleterError,e),CompleterError}(y.default);t.default={mixins:[_.FieldComponentMixin],computed:{selectize_options:function(){var e=this,t=this.$options.selectize;return g.default.extend({},A.default.isFunction(t)?t.apply(this,[]):t,{persist:!1,closeAfterSelect:!0,load:this.load_suggestions.bind(this),onItemAdd:function(t,n){e.$dispatch("completer:item-add",t,n),e.$options.selectize.onItemAdd&&e.$options.selectize.onItemAdd(t,n)}})}},events:{"form:beforeDestroy":function(){this.destroy()}},filters:{lst2str:lst2str},methods:{load_suggestions:function(e,t){var n=this;return e.length?void p.default[this.$options.ns][this.$options.endpoint]({q:e,size:10},function(e){var i=e.obj;n.$options.dataLoaded&&(i=n.$options.dataLoaded(i)),t(i)},function(e){m.default.error("Unable to fetch completion",e),t()}):t()},destroy:function(){this.selectize&&(this.selectize.destroy(),this.selectize=void 0)}},watch:{value:function(e){var t=this;this.selectize&&(this.selectize.clear(!0),forceList(e).forEach(function(e){t.selectize.createItem(e)}))}},ready:function(){this.field&&this.field.readonly||(this.selectize=(0,g.default)(this.$el).selectize(this.selectize_options)[0].selectize)},beforeDestroy:function(){this.destroy()}}},1321:function(e,t,n){var i,o;!function(r,a){i=a,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,a=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?a.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],a.push(o));for(;a.length;)r.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})},1322:function(e,t,n){var i,o,r;!function(a,s){o=[n(17),n(144),n(1321)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(o),l=(s.splitText(r[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var d=0;d<e.childNodes.length;++d)d+=i(e.childNodes[d]);return t};return e.each(function(){i(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),a=65,s=13,l=27,d=37,c=38,u=80,p=39,h=40,f=78,g=8,v=46,m=16,b=r?91:17,y=r?18:17,x=9,A=1,_=2,w=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,C=function(e){return"undefined"!=typeof e},k=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},B=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},$={};$.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},$.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},S=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},O=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return t.indexOf(n)===-1?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},F=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},q=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},z=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},R=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");z(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},I=function(e){var t=null,n=function(n,i){var o,r,a,s,l,d,c,u;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,a=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,r===v||r===g?(u=q(e[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):r===g&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):r===v&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):a&&(d=n.shiftKey,c=String.fromCharCode(n.keyCode),c=d?c.toUpperCase():c.toLowerCase(),o+=c)),s=e.attr("placeholder"),!o&&s&&(o=s),l=R(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},M=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},E=function(e,t){t||(t={});var n="Selectize";console.error(n+": "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())},P=function(n,i){var o,r,a,s,l=this;s=n[0],s.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=d?d.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?A:_,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++P.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:S(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(P),"undefined"!=typeof n?n.mixin(P):E("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),e.extend(P.prototype,{setup:function(){var t,n,i,o,a,s,l,d,c,u,p=this,h=p.settings,f=p.eventNS,g=e(window),v=e(document),x=p.$input;if(l=p.settings.mode,d=x.attr("class")||"",t=e("<div>").addClass(h.wrapperClass).addClass(d).addClass(l),n=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",x.is(":disabled")?"-1":p.tabIndex),s=e(h.dropdownParent||t),o=e("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(s),a=e("<div>").addClass(h.dropdownContentClass).appendTo(o),
(u=x.attr("id"))&&(i.attr("id",u+"-selectized"),e("label[for='"+u+"']").attr("for",u+"-selectized")),p.settings.copyClassesToDropdown&&o.addClass(d),t.css({width:x[0].style.width}),p.plugins.names.length&&(c="plugin-"+p.plugins.names.join(" plugin-"),t.addClass(c),o.addClass(c)),(null===h.maxItems||h.maxItems>1)&&p.tagType===A&&x.attr("multiple","multiple"),p.settings.placeholder&&i.attr("placeholder",h.placeholder),!p.settings.splitOn&&p.settings.delimiter){var _=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}x.attr("autocorrect")&&i.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&i.attr("autocapitalize",x.attr("autocapitalize")),p.$wrapper=t,p.$control=n,p.$control_input=i,p.$dropdown=o,p.$dropdown_content=a,o.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),o.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),F(n,"mousedown","*:not(input)",function(){return p.onItemSelect.apply(p,arguments)}),I(i),n.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),v.on("keydown"+f,function(e){p.isCmdDown=e[r?"metaKey":"ctrlKey"],p.isCtrlDown=e[r?"altKey":"ctrlKey"],p.isShiftDown=e.shiftKey}),v.on("keyup"+f,function(e){e.keyCode===y&&(p.isCtrlDown=!1),e.keyCode===m&&(p.isShiftDown=!1),e.keyCode===b&&(p.isCmdDown=!1)}),v.on("mousedown"+f,function(e){if(p.isFocused){if(e.target===p.$dropdown[0]||e.target.parentNode===p.$dropdown[0])return!1;p.$control.has(e.target).length||e.target===p.$control[0]||p.blur(e.target)}}),g.on(["scroll"+f,"resize"+f].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),g.on("mousemove"+f,function(){p.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(p.$wrapper),e.isArray(h.items)&&(p.setValue(h.items),delete h.items),w&&x.on("invalid"+f,function(e){e.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,x.is(":disabled")&&p.disable(),p.on("change",this.onChange),x.data("selectize",p),x.addClass("selectized"),p.trigger("initialize"),h.preload===!0&&p.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;return n.isFull()||n.isInputHidden||n.isLocked?void t.preventDefault():void(n.settings.splitOn&&setTimeout(function(){var t=n.$control_input.val();if(t.match(n.settings.splitOn))for(var i=e.trim(t).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0))},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==x&&e.preventDefault());switch(e.keyCode){case a:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case f:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case u:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case s:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case d:return void t.advanceSelection(-1,e);case p:return void t.advanceSelection(1,e);case x:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case g:case v:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===A&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];O(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i,o,r,a,s,l,d,c,u=this;if("single"!==u.settings.mode){if(t=e(t),!t.length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&u.isShiftDown&&u.$activeItems.length){for(c=u.$control.children(".active:last"),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]),a>s&&(d=a,a=s,s=d),o=a;o<=s;o++)l=u.$control[0].childNodes[o],u.$activeItems.indexOf(l)===-1&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&u.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,i){var o,r,a,s,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,t=e(t),t.length&&(d.$activeOption=t.addClass("active"),!n&&C(n)||(o=d.$dropdown_content.height(),r=d.$activeOption.outerHeight(!0),n=d.$dropdown_content.scrollTop()||0,a=d.$activeOption.offset().top-d.$dropdown_content.offset().top+n,s=a,l=a-o+r,a+r>o+n?d.$dropdown_content.stop().animate({scrollTop:l},i?d.settings.scrollDuration:0):a<n&&d.$dropdown_content.stop().animate({scrollTop:s},i?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r=this,a=r.settings,s=this.getSearchOptions();if(a.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(s,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)r.items.indexOf(k(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,o,r,a,s,l,d,c,u,p,h,f,g,v,m,b;"undefined"==typeof t&&(t=!0);var y=this,x=e.trim(y.$control_input.val()),A=y.search(x),_=y.$dropdown_content,w=y.$activeOption&&k(y.$activeOption.attr("data-value"));for(a=A.items.length,"number"==typeof y.settings.maxOptions&&(a=Math.min(a,y.settings.maxOptions)),s={},l=[],n=0;n<a;n++)for(d=y.options[A.items[n].id],c=y.render("option",d),u=d[y.settings.optgroupField]||"",p=e.isArray(u)?u:[u],o=0,r=p&&p.length;o<r;o++)u=p[o],y.optgroups.hasOwnProperty(u)||(u=""),s.hasOwnProperty(u)||(s[u]=document.createDocumentFragment(),l.push(u)),s[u].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=y.optgroups[e].$order||0,i=y.optgroups[t].$order||0;return n-i}),h=document.createDocumentFragment(),n=0,a=l.length;n<a;n++)u=l[n],y.optgroups.hasOwnProperty(u)&&s[u].childNodes.length?(f=document.createDocumentFragment(),f.appendChild(y.render("optgroup_header",y.optgroups[u])),f.appendChild(s[u]),h.appendChild(y.render("optgroup",e.extend({},y.optgroups[u],{html:M(f),dom:f})))):h.appendChild(s[u]);if(_.html(h),y.settings.highlight&&A.query.length&&A.tokens.length)for(_.removeHighlight(),n=0,a=A.tokens.length;n<a;n++)i(_,A.tokens[n].regex);if(!y.settings.hideSelected)for(n=0,a=y.items.length;n<a;n++)y.getOption(y.items[n]).addClass("selected");g=y.canCreate(x),g&&(_.prepend(y.render("option_create",{input:x})),b=e(_[0].childNodes[0])),y.hasOptions=A.items.length>0||g,y.hasOptions?(A.items.length>0?(m=w&&y.getOption(w),m&&m.length?v=m:"single"===y.settings.mode&&y.items.length&&(v=y.getOption(y.items[0])),v&&v.length||(v=b&&!y.settings.addPrecedence?y.getAdjacentOption(b,1):_.find("[data-selectable]:first"))):v=b,y.setActiveOption(v),t&&!y.isOpen&&y.open()):(y.setActiveOption(null),t&&y.isOpen&&y.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=k(e[this.settings.valueField]);return"undefined"!=typeof t&&null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=k(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r,a,s,l,d,c=this;if(t=k(t),r=k(n[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");d=c.options[t].$order,r!==t&&(delete c.options[t],a=c.items.indexOf(t),a!==-1&&c.items.splice(a,1,r)),n.$order=n.$order||d,c.options[r]=n,s=c.renderCache.item,l=c.renderCache.option,s&&(delete s[t],delete s[r]),l&&(delete l[t],delete l[r]),c.items.indexOf(r)!==-1&&(i=c.getItem(t),o=e(c.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=k(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=k(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];O(this,i,function(){var i,o,r,a,s,l=this,d=l.settings.mode;return t=k(t),l.items.indexOf(t)!==-1?void("single"===d&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===d&&l.clear(n),"multi"===d&&l.isFull()||(i=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),a=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==d),a&&l.setActiveOption(l.getOption(a))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(t,n){var i,o,r,a=this;i=t instanceof e?t:a.getItem(t),t=k(i.attr("data-value")),o=a.items.indexOf(t),o!==-1&&(i.remove(),i.hasClass("active")&&(r=a.$activeItems.indexOf(i[0]),a.$activeItems.splice(r,1)),a.items.splice(o,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(t)&&a.removeOption(t,n),o<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:n}),a.positionDropdown(),a.trigger("item_remove",t,i))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},s=D(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=k(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=a.apply(this,[t,s]);return"undefined"!=typeof l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===A){for(i=[],t=0,n=r.items.length;t<n;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+B(r.items[t])+'" selected="selected">'+B(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,a,s,l,d,c,u=this;if(o=t&&t.keyCode===g?-1:1,r=q(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),a=[],u.$activeItems.length){for(c=u.$control.children(".active:"+(o>0?"last":"first")),s=u.$control.children(":not(input)").index(c),o>0&&s++,n=0,i=u.$activeItems.length;n<i;n++)a.push(e(u.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(o<0&&0===r.start&&0===r.length?a.push(u.items[u.caretPos-1]):o>0&&r.start===u.$control_input.val().length&&a.push(u.items[u.caretPos]));if(!a.length||"function"==typeof u.settings.onDelete&&u.settings.onDelete.apply(u,[a])===!1)return!1;for("undefined"!=typeof s&&u.setCaret(s);a.length;)u.removeItem(a.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(d=u.getOption(l),d.length&&u.setActiveOption(d)),!0},advanceSelection:function(e,t){var n,i,o,r,a,s,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=q(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,a=e<0?0===i.start&&0===i.length:i.start===r,a&&!r&&l.advanceCaret(e,t)):(s=l.$control.children(".active:"+n),s.length&&(o=l.$control.children(":not(input)").index(s),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,a;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)a=e(r[i]).detach(),i<t?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var i,o,r="",a=!1,s=this;return"option"!==t&&"item"!==t||(i=k(n[s.settings.valueField]),a=!!i),a&&(C(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(i))?s.renderCache[t][i]:(r=e(s.settings.render[t].apply(this,[n,B])),"option"===t||"option_create"===t?r.attr("data-selectable",""):"optgroup"===t&&(o=n[s.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==t&&"item"!==t||r.attr("data-value",i||""),a&&(s.renderCache[t][i]=r[0]),r[0])},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),P.count=0,P.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,a=i.valueField,s=i.optgroupField,l=i.optgroupLabelField,d=i.optgroupValueField,c=function(t,n){var s,l,d,c,u=t.attr(o);if(u)for(n.options=JSON.parse(u),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][a]);else{var p=e.trim(t.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(d=p.split(i.delimiter),s=0,l=d.length;s<l;s++)c={},c[r]=d[s],c[a]=d[s],n.options.push(c);n.items=d}},u=function(t,n){var c,u,p,h,f=n.options,g={},v=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},m=function(t,o){t=e(t);var l=k(t.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(o){var d=g[l][s];d?e.isArray(d)?d.push(o):g[l][s]=[d,o]:g[l][s]=o}}else{var c=v(t)||{};c[r]=c[r]||t.text(),c[a]=c[a]||l,c[s]=c[s]||o,g[l]=c,f.push(c),t.is(":selected")&&n.items.push(l)}},b=function(t){var i,o,r,a,s;for(t=e(t),r=t.attr("label"),r&&(a=v(t)||{},a[l]=r,a[d]=r,n.optgroups.push(a)),s=e("option",t),i=0,o=s.length;i<o;i++)m(s[i],r)};for(n.maxItems=t.attr("multiple")?null:1,h=t.children(),c=0,u=h.length;c<u;c++)p=h[c].tagName.toLowerCase(),"optgroup"===p?b(h[c]):"option"===p&&m(h[c])};return this.each(function(){if(!this.selectize){var o,r=e(this),a=this.tagName.toLowerCase(),s=r.attr("placeholder")||r.attr("data-placeholder");s||i.allowEmptyOption||(s=r.children('option[value=""]').text());var l={placeholder:s,options:[],optgroups:[],items:[]};"select"===a?u(r,l):c(r,l),o=new P(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=P.defaults,e.fn.selectize.support={validity:w},P.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(t)}})}}()}}),P.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),P.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,a;return!this.isOpen||t.keyCode!==d&&t.keyCode!==p?e.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),i=a.find("[data-selectable]").index(this.$activeOption),a=t.keyCode===d?a.prev("[data-group]"):a.next("[data-group]"),r=a.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,a,s,l,d,c;if(c=e("[data-group]",n.$dropdown_content),r=c.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,o=0;o<r;o++)a=Math.max(a,c.eq(o).height());c.css({height:a})}t.equalizeWidth&&(d=n.$dropdown_content.innerWidth()-i(),s=Math.round(d/r),c.css({width:s}),r>1&&(l=d-s*(r-1),c.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&($.after(this,"positionDropdown",o),$.after(this,"refreshOptions",o))}),P.define("remove_button",function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=function(t,n){n.className="remove-single";var i=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+B(n.title)+'">'+n.label+"</a>",r=function(e,t){return e+t};t.setup=function(){var a=i.setup;return function(){if(n.append){var s=e(i.$input.context).attr("id"),l=(e("#"+s),i.settings.render.item);i.settings.render.item=function(e){return r(l.apply(t,arguments),o)}}a.apply(t,arguments),t.$control.on("click","."+n.className,function(e){e.preventDefault(),i.isLocked||i.clear()})}}()},i=function(t,n){var i=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+B(n.title)+'">'+n.label+"</a>",r=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=function(){var a=i.setup;return function(){if(n.append){var s=i.settings.render.item;i.settings.render.item=function(e){return r(s.apply(t,arguments),o)}}a.apply(t,arguments),t.$control.on("click","."+n.className,function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()};return"single"===this.settings.mode?void n(this,t):void i(this,t)}),P.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),P})},1323:function(e,t){e.exports=' <input type=text class=form-control :id="field && field.id || \'\'" :name="field && field.id || \'\'" :placeholder="placeholder || \'\'" :required=required :value="value | lst2str" :readonly="readonly || false"/> '},1326:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function cardify(e,t){if(e&&t.length>0){var n=new o.default({el:t[0],mixins:[c.default]}),i=t.find(".remove");
n.dataset.fetch(e),t.append(i)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=_interopRequireDefault(i),r=n(70),a=(_interopRequireDefault(r),n(138)),s=(_interopRequireDefault(a),n(1246)),l=_interopRequireDefault(s),d=n(139),c=_interopRequireDefault(d),u='<div class="selectize-option">\n    <div class="logo pull-left">\n        <img src="{{image_url}}"/>\n    </div>\n    {{title}}\n</div>';t.default={name:"dataset-completer",mixins:[l.default],ns:"datasets",endpoint:"suggest_datasets",props:{placeholder:{type:String,default:function(){return this._("Find your dataset")}}},selectize:{valueField:"id",labelField:"title",searchField:["title"],options:[],plugins:["remove_button"],onItemAdd:cardify,onInitialize:function(){this.$control.find(".card-input").each(function(e){var t=$(this);cardify(t.data("value"),t)})},render:{option:function(e,t){return new o.default({data:e}).$interpolate(u)},item:function(e,t){return'<div class="card-input">'+e.title+"</div>"}}}}},1332:function(e,t,n){var i,o;(function(r){!function(r){"use strict";i=r,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}(function(){"use strict";function Sortable(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=_extend({},t),e[C]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in t)&&(t[i]=n[i]);T(t);for(var o in this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&F,_on(e,"mousedown",this._onTapStart),_on(e,"touchstart",this._onTapStart),_on(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_on(e,"dragover",this),_on(e,"dragenter",this)),E.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function _cloneHide(t,n){"clone"!==t.lastPullMode&&(n=!0),i&&i.state!==n&&(_css(i,"display",n?"none":""),n||i.state&&(t.options.group.revertClone?(o.insertBefore(i,a),t._animate(e,i)):o.insertBefore(i,e)),i.state=n)}function _closest(e,t,n){if(e){n=n||B;do if(">*"===t&&e.parentNode===n||_matches(e,t))return e;while(e=_getParentOrHost(e))}return null}function _getParentOrHost(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function _on(e,t,n){e.addEventListener(t,n,O)}function _off(e,t,n){e.removeEventListener(t,n,O)}function _toggleClass(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(_," ")}}function _css(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function _find(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function _dispatchEvent(e,t,n,o,r,a,s){e=e||t[C];var l=B.createEvent("Event"),d=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=t,l.from=r||t,l.item=o||t,l.clone=i,l.oldIndex=a,l.newIndex=s,t.dispatchEvent(l),d[c]&&d[c].call(e,l)}function _onMove(e,t,n,i,o,r,a,s){var l,d,c=e[C],u=c.options.onMove;return l=B.createEvent("Event"),l.initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),u&&(d=u.call(c,l,a)),d}function _disableDraggable(e){e.draggable=!1}function _unsilent(){z=!1}function _ghostIsLast(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return t.clientY-(i.top+i.height)>5||t.clientX-(i.left+i.width)>5}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function _index(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!_matches(e,t)||n++;return n}function _matches(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function _throttle(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function _extend(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function _clone(e){return D?D(e).clone(!0)[0]:S&&S.dom?S.dom(e).cloneNode(!0):e.cloneNode(!0)}function _saveInputCheckedState(e){for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&M.push(i)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,i,o,a,s,l,d,c,u,p,h,f,g,v,m,b,y,x,A={},_=/\s+/g,w=/left|right|inline/,C="Sortable"+(new Date).getTime(),k=window,B=k.document,$=k.parseInt,D=r||k.Zepto,S=k.Polymer,O=!1,F=!!("draggable"in B.createElement("div")),q=function(e){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(e=B.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),z=!1,R=Math.abs,I=Math.min,M=[],E=[],P=_throttle(function(e,t,n){if(n&&t.scroll){var i,o,r,a,s,u,p=n[C],h=t.scrollSensitivity,f=t.scrollSpeed,g=e.clientX,v=e.clientY,m=window.innerWidth,b=window.innerHeight;if(d!==n&&(l=t.scroll,d=n,c=t.scrollFn,l===!0)){l=n;do if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight)break;while(l=l.parentNode)}l&&(i=l,o=l.getBoundingClientRect(),r=(R(o.right-g)<=h)-(R(o.left-g)<=h),a=(R(o.bottom-v)<=h)-(R(o.top-v)<=h)),r||a||(r=(m-g<=h)-(g<=h),a=(b-v<=h)-(v<=h),(r||a)&&(i=k)),A.vx===r&&A.vy===a&&A.el===i||(A.el=i,A.vx=r,A.vy=a,clearInterval(A.pid),i&&(A.pid=setInterval(function(){return u=a?a*f:0,s=r?r*f:0,"function"==typeof c?c.call(p,s,u,e):void(i===k?k.scrollTo(k.pageXOffset+s,k.pageYOffset+u):(i.scrollTop+=u,i.scrollLeft+=s))},24)))}},30),T=function(e){function toFn(e,n){return void 0!==e&&e!==!0||(e=t.name),"function"==typeof e?e:function(t,i){var o=i.options.group.name;return n?e:e&&(e.join?e.indexOf(o)>-1:o==e)}}var t={},n=e.group;n&&"object"==typeof n||(n={name:n}),t.name=n.name,t.checkPull=toFn(n.pull,!0),t.checkPut=toFn(n.put),t.revertClone=n.revertClone,e.group=t};Sortable.prototype={constructor:Sortable,_onTapStart:function(t){var n,i=this,o=this.el,r=this.options,a=r.preventOnFilter,l=t.type,d=t.touches&&t.touches[0],c=(d||t).target,u=t.target.shadowRoot&&t.path&&t.path[0]||c,p=r.filter;if(_saveInputCheckedState(o),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||r.disabled)&&(c=_closest(c,r.draggable,o),c&&s!==c)){if(n=_index(c,r.draggable),"function"==typeof p){if(p.call(this,t,c,this))return _dispatchEvent(i,u,"filter",c,o,n),void(a&&t.preventDefault())}else if(p&&(p=p.split(",").some(function(e){if(e=_closest(u,e.trim(),o))return _dispatchEvent(i,e,"filter",c,o,n),!0})))return void(a&&t.preventDefault());r.handle&&!_closest(u,r.handle,o)||this._prepareDragStart(t,d,c,n)}},_prepareDragStart:function(n,i,r,l){var d,c=this,u=c.el,p=c.options,h=u.ownerDocument;r&&!e&&r.parentNode===u&&(b=n,o=u,e=r,t=e.parentNode,a=e.nextSibling,s=r,v=p.group,f=l,this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,e.style["will-change"]="transform",d=function(){c._disableDelayedDrag(),e.draggable=c.nativeDraggable,_toggleClass(e,p.chosenClass,!0),c._triggerDragStart(n,i),_dispatchEvent(c,o,"choose",e,o,f)},p.ignore.split(",").forEach(function(t){_find(e,t.trim(),_disableDraggable)}),_on(h,"mouseup",c._onDrop),_on(h,"touchend",c._onDrop),_on(h,"touchcancel",c._onDrop),_on(h,"pointercancel",c._onDrop),_on(h,"selectstart",c),p.delay?(_on(h,"mouseup",c._disableDelayedDrag),_on(h,"touchend",c._disableDelayedDrag),_on(h,"touchcancel",c._disableDelayedDrag),_on(h,"mousemove",c._disableDelayedDrag),_on(h,"touchmove",c._disableDelayedDrag),_on(h,"pointermove",c._disableDelayedDrag),c._dragStartTimer=setTimeout(d,p.delay)):d())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),_off(e,"mouseup",this._disableDelayedDrag),_off(e,"touchend",this._disableDelayedDrag),_off(e,"touchcancel",this._disableDelayedDrag),_off(e,"mousemove",this._disableDelayedDrag),_off(e,"touchmove",this._disableDelayedDrag),_off(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),n?(b={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(b,"touch")):this.nativeDraggable?(_on(e,"dragend",this),_on(o,"dragstart",this._onDragStart)):this._onDragStart(b,!0);try{B.selection?setTimeout(function(){B.selection.empty()}):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(){if(o&&e){var t=this.options;_toggleClass(e,t.ghostClass,!0),_toggleClass(e,t.dragClass,!1),Sortable.active=this,_dispatchEvent(this,o,"start",e,o,f)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,q||_css(n,"display","none");var e=B.elementFromPoint(y.clientX,y.clientY),t=e,i=E.length;if(t)do{if(t[C]){for(;i--;)E[i]({clientX:y.clientX,clientY:y.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);q||_css(n,"display","")}},_onTouchMove:function(e){if(b){var t=this.options,i=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=r.clientX-b.clientX+o.x,s=r.clientY-b.clientY+o.y,l=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!Sortable.active){if(i&&I(R(r.clientX-this._lastX),R(r.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),x=!0,y=r,_css(n,"webkitTransform",l),_css(n,"mozTransform",l),_css(n,"msTransform",l),_css(n,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!n){var t,i=e.getBoundingClientRect(),r=_css(e),a=this.options;n=e.cloneNode(!0),_toggleClass(n,a.ghostClass,!1),_toggleClass(n,a.fallbackClass,!0),_toggleClass(n,a.dragClass,!0),_css(n,"top",i.top-$(r.marginTop,10)),_css(n,"left",i.left-$(r.marginLeft,10)),_css(n,"width",i.width),_css(n,"height",i.height),_css(n,"opacity","0.8"),_css(n,"position","fixed"),_css(n,"zIndex","100000"),_css(n,"pointerEvents","none"),a.fallbackOnBody&&B.body.appendChild(n)||o.appendChild(n),t=n.getBoundingClientRect(),_css(n,"width",2*i.width-t.width),_css(n,"height",2*i.height-t.height)}},_onDragStart:function(t,n){var r=t.dataTransfer,a=this.options;this._offUpEvents(),v.checkPull(this,this,e,t)&&(i=_clone(e),i.draggable=!1,i.style["will-change"]="",_css(i,"display","none"),_toggleClass(i,this.options.chosenClass,!1),o.insertBefore(i,e),_dispatchEvent(this,o,"clone",e)),_toggleClass(e,a.dragClass,!0),n?("touch"===n?(_on(B,"touchmove",this._onTouchMove),_on(B,"touchend",this._onDrop),_on(B,"touchcancel",this._onDrop),_on(B,"pointermove",this._onTouchMove),_on(B,"pointerup",this._onDrop)):(_on(B,"mousemove",this._onTouchMove),_on(B,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(r&&(r.effectAllowed="move",a.setData&&a.setData.call(this,r,e)),_on(B,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(r){var s,l,d,c,f=this.el,g=this.options,b=g.group,y=Sortable.active,A=v===b,_=!1,k=g.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!g.dragoverBubble&&r.stopPropagation()),!e.animated&&(x=!0,y&&!g.disabled&&(A?k||(c=!o.contains(e)):m===this||(y.lastPullMode=v.checkPull(this,y,e,r))&&b.checkPut(this,y,e,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(P(r,g,this.el),z)return;if(s=_closest(r.target,g.draggable,f),l=e.getBoundingClientRect(),m!==this&&(m=this,_=!0),c)return _cloneHide(y,!0),t=o,void(i||a?o.insertBefore(e,i||a):k||o.appendChild(e));if(0===f.children.length||f.children[0]===n||f===r.target&&_ghostIsLast(f,r)){if(0!==f.children.length&&f.children[0]!==n&&f===r.target&&(s=f.lastElementChild),s){if(s.animated)return;d=s.getBoundingClientRect()}_cloneHide(y,A),_onMove(o,f,e,l,s,d,r)!==!1&&(e.contains(f)||(f.appendChild(e),t=f),this._animate(l,e),s&&this._animate(d,s))}else if(s&&!s.animated&&s!==e&&void 0!==s.parentNode[C]){u!==s&&(u=s,p=_css(s),h=_css(s.parentNode)),d=s.getBoundingClientRect();var B=d.right-d.left,$=d.bottom-d.top,D=w.test(p.cssFloat+p.display)||"flex"==h.display&&0===h["flex-direction"].indexOf("row"),S=s.offsetWidth>e.offsetWidth,O=s.offsetHeight>e.offsetHeight,F=(D?(r.clientX-d.left)/B:(r.clientY-d.top)/$)>.5,q=s.nextElementSibling,R=!1;if(D){var I=e.offsetTop,M=s.offsetTop;R=I===M?s.previousElementSibling===e&&!S||F&&S:s.previousElementSibling===e||e.previousElementSibling===s?(r.clientY-d.top)/$>.5:M>I}else _||(R=q!==e&&!O||F&&O);var E=_onMove(o,f,e,l,s,d,r,R);E!==!1&&(1!==E&&E!==-1||(R=1===E),z=!0,setTimeout(_unsilent,30),_cloneHide(y,A),e.contains(f)||(R&&!q?f.appendChild(e):s.parentNode.insertBefore(e,R?q:s)),t=e.parentNode,this._animate(l,e),this._animate(d,s))}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),_css(t,"transition","none"),_css(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,_css(t,"transition","all "+n+"ms"),_css(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){_css(t,"transition",""),_css(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;_off(B,"touchmove",this._onTouchMove),_off(B,"pointermove",this._onTouchMove),_off(e,"mouseup",this._onDrop),_off(e,"touchend",this._onDrop),_off(e,"pointerup",this._onDrop),_off(e,"touchcancel",this._onDrop),_off(e,"pointercancel",this._onDrop),_off(e,"selectstart",this)},_onDrop:function(r){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(A.pid),clearTimeout(this._dragStartTimer),_off(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(_off(B,"drop",this),_off(s,"dragstart",this._onDragStart)),this._offUpEvents(),r&&(x&&(r.preventDefault(),!l.dropBubble&&r.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),o!==t&&"clone"===Sortable.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&_off(e,"dragend",this),_disableDraggable(e),e.style["will-change"]="",_toggleClass(e,this.options.ghostClass,!1),_toggleClass(e,this.options.chosenClass,!1),_dispatchEvent(this,o,"unchoose",e,o,f),o!==t?(g=_index(e,l.draggable),g>=0&&(_dispatchEvent(null,t,"add",e,o,f,g),_dispatchEvent(this,o,"remove",e,o,f,g),_dispatchEvent(null,t,"sort",e,o,f,g),_dispatchEvent(this,o,"sort",e,o,f,g))):e.nextSibling!==a&&(g=_index(e,l.draggable),g>=0&&(_dispatchEvent(this,o,"update",e,o,f,g),_dispatchEvent(this,o,"sort",e,o,f,g))),Sortable.active&&(null!=g&&g!==-1||(g=f),_dispatchEvent(this,o,"end",e,o,f,g),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=a=i=s=l=d=b=y=x=g=u=p=m=v=Sortable.active=null,M.forEach(function(e){e.checked=!0}),M.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),_globalDragOver(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)e=n[i],_closest(e,r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||_generateId(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,i){var o=n.children[i];_closest(o,this.options.draggable,n)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return _closest(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&T(n)))},destroy:function(){var e=this.el;e[C]=null,_off(e,"mousedown",this._onTapStart),_off(e,"touchstart",this._onTapStart),_off(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_off(e,"dragover",this),_off(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),E.splice(E.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},_on(B,"touchmove",function(e){Sortable.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={capture:!1,passive:!1}}}))}catch(N){}return Sortable.utils={on:_on,off:_off,css:_css,find:_find,is:function(e,t){return!!_closest(e,t,e)},extend:_extend,throttle:_throttle,closest:_closest,toggleClass:_toggleClass,clone:_clone,index:_index},Sortable.create=function(e,t){return new Sortable(e,t)},Sortable.version="1.6.1",Sortable})}).call(t,n(17))},1337:function(e,t,n){var i,o;i=n(1326),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1347:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=_interopRequireDefault(i),r=n(1236),a=_interopRequireDefault(r),s=n(354),l=_interopRequireDefault(s);t.default={name:"wizard",data:function(){return{step_index:0}},props:["title","steps","finish"],computed:{active_step:function(){if(this.steps)return this.steps[this.step_index]},component:function(){if(this.steps)return"step-"+this.step_index},next_step:function(){if(this.steps&&this.step_index+1!==this.steps.length)return this.steps[this.step_index+1]},can_finish:function(){return this.steps&&this.step_index+1===this.steps.length&&this.finish},previous_step:function(){if(this.steps&&!(this.step_index<=0))return this.steps[this.step_index-1]},disableNext:function(){return this.active_step&&this.active_step.disableNext}},components:{Box:l.default,Layout:a.default},methods:{click_next:function(){this.active_step.next&&!this.active_step.next(this.$refs.content)||(this.next_step?this.$dispatch("wizard:next-step"):this.finish&&this.$dispatch("wizard:finish"))},click_previous:function(){this.previous_step&&this.$dispatch("wizard:previous-step")},go_next:function(){var e=this;this.next_step&&(this.step_index++,o.default.nextTick(function(){e.$dispatch("wizard:step-changed"),e.init_step()}))},go_previous:function(){var e=this;this.previous_step&&(this.step_index--,o.default.nextTick(function(){e.init_step(),e.$dispatch("wizard:step-changed")}))},init_step:function(){this.active_step.init&&this.active_step.init(this.$refs.content)}},created:function(){var e=this;this.steps.forEach(function(t,n){var i=t.component instanceof o.default?t.component:o.default.extend(t.component);e.$options.components["step-"+n]=i})},events:{"wizard:enable-next":function(){this.active_step.disableNext=!1}}}},1349:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".wizard .nav.nav-pills>li{height:100%}.wizard .nav.nav-pills>li>a{border-radius:4px;height:100%}.wizard .nav.nav-pills>li.active>a,.wizard .nav.nav-pills>li.active>a:focus,.wizard .nav.nav-pills>li.active>a:hover{color:#fff;background-color:#428bca}.wizard .btn-outline{border:1px solid #4d4d4d;color:#000}","",{version:3,sources:["/./js/components/widgets/wizard.vue"],names:[],mappings:"AAAA,0BAA0B,WAAW,CAAC,4BAA4B,kBAAkB,WAAW,CAAC,qHAAqH,WAAW,wBAAwB,CAAC,qBAAqB,yBAAyB,UAAW,CAAC",file:"wizard.vue",sourcesContent:[".wizard .nav.nav-pills>li{height:100%}.wizard .nav.nav-pills>li>a{border-radius:4px;height:100%}.wizard .nav.nav-pills>li.active>a,.wizard .nav.nav-pills>li.active>a:hover,.wizard .nav.nav-pills>li.active>a:focus{color:#fff;background-color:#428bca}.wizard .btn-outline{border:1px solid #4d4d4d;color:black}"],sourceRoot:"webpack://"}])},1353:function(e,t){e.exports=' <div> <layout :title="title || \'\'"> <div class=wizard> <div class="row form-group wizard-steps"> <div class=col-xs-12> <ul class="nav nav-pills nav-justified thumbnail setup-panel"> <li :class="{ \'active\': step_index === $index }" v-for="(index, step) in steps"> <a> <h4 class=list-group-item-heading> {{ index + 1 }}. {{ step.label }} </h4> <p class=list-group-item-text>{{step.subtitle}}</p> </a> </li> </ul> </div> </div> <div class=row> <div class=col-xs-12> <box boxclass=box-solid :footer=true> <component :is=component v-ref:content :hide-notifications=false></component> <footer slot=footer> <div class=col-xs-12> <button v-if=previous_step class="btn btn-warning btn-flat pointer" @click=click_previous> {{ _(\'Previous\') }} </button> <button v-if="next_step || finish" class="btn btn-primary btn-flat pull-right pointer" :disabled=disableNext @click=click_next> {{ this.step_index + 1 === this.steps.length ? _(\'Finish\') : _(\'Next\') }} </button> </div> </footer> </box> </div> </div> </div> </layout> </div> '},1355:function(e,t,n){var i,o;n(1357),i=n(1347),o=n(1353),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1357:function(e,t,n){var i=n(1349);"string"==typeof i&&(i=[[e.id,i,""]]);n(13)(i,{sourceMap:!0});i.locals&&(e.exports=i.locals)},1359:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function cardify(e,t){var n=new o.default({el:t[0],mixins:[c.default]}),i=t.find(".remove");n.reuse.fetch(e),t.append(i)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=_interopRequireDefault(i),r=n(70),a=(_interopRequireDefault(r),n(140)),s=(_interopRequireDefault(a),n(1246)),l=_interopRequireDefault(s),d=n(141),c=_interopRequireDefault(d),u='<div class="selectize-option">\n    <div class="logo pull-left">\n        <img src="{{image_url}}"/>\n    </div>\n    {{title}}\n</div>';t.default={mixins:[l.default],ns:"reuses",endpoint:"suggest_reuses",props:{placeholder:{type:String,default:function(){return this._("Find your reuse")}}},selectize:{plugins:["remove_button"],valueField:"id",labelField:"title",searchField:["title"],onItemAdd:cardify,onInitialize:function(){this.$control.find(".card-input").each(function(e){var t=$(this);cardify(t.data("value"),t)})},render:{option:function(e,t){return new o.default({data:e}).$interpolate(u)},item:function(e,t){return'<div class="card-input">'+e.title+"</div>"}}}}},1367:function(e,t,n){var i,o;i=n(1359),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1392:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=_interopRequireDefault(i),r=n(7),a=_interopRequireDefault(r),s=n(24),l=_interopRequireDefault(s),d=n(9),c=_interopRequireDefault(d),u=n(8),p=_interopRequireDefault(u),h=n(14),f=n(5),g=_interopRequireDefault(f),v=function(e){function Topic(){return(0,a.default)(this,Topic),(0,c.default)(this,(Topic.__proto__||(0,o.default)(Topic)).apply(this,arguments))}return(0,p.default)(Topic,e),(0,l.default)(Topic,[{key:"fetch",value:function(e){return e=e||this.id||this.slug,e?this.$api("topics.get_topic",{topic:e},this.on_fetched):g.default.error("Unable to fetch Topic: no identifier specified"),this}},{key:"save",value:function(){this.id?this.$api("topics.update_topic",{topic:this.id,payload:this},this.on_fetched):this.$api("topics.create_topic",{payload:this},this.on_fetched)}},{key:"update",value:function(e,t,n){this.$api("topics.update_topic",{topic:this.id,payload:e},t,n)}}]),Topic}(h.Model);t.default=v},1429:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1318),o=_interopRequireDefault(i),r=n(139),a=_interopRequireDefault(r),s=n(1337),l=_interopRequireDefault(s);t.default={name:"datasets-cards-form",mixins:[o.default],components:{Card:a.default,Completer:l.default},props:{datasets:{type:Array,default:function(){var e=[];if("dataset_id"in this.$route.query){var t=this.$route.query.dataset_id;"string"==typeof t?e.push(t):e=e.concat(t)}return e}}},events:{"completer:item-add":function(e,t){return t.remove(),this.datasets.push(e),this.$dispatch("dataset-card-list:add",e),!0}},methods:{on_remove:function(e){this.datasets.splice(this.datasets.indexOf(e),1),this.$dispatch("dataset-card-list:remove",e)}},sortable:{draggable:".dataset-card-container",ghostClass:"ghost"}}},1433:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".completer-row{margin-bottom:10px}.completer-row .selectize-control{height:34px}.completer-row .selectize-dropdown{position:absolute}.completer-row .input-group-btn .btn{border:none;height:34px;border-radius:0}.dataset-card-container button.close{position:relative;right:10px;top:5px;z-index:15;color:red;opacity:1}.dataset-card-container button.close:hover{right:8px;top:2px;font-size:2em}.dataset-card-container.ghost{opacity:.5}.dataset-card-container.ghost button.close{display:none}.dataset-card-container.ghost .dataset-card{border:2px dashed gray}","",{version:3,sources:["/./js/components/dataset/cards-form.vue"],names:[],mappings:"AAAA,eAAe,kBAAkB,CAAC,kCAAkC,WAAW,CAAC,mCAAmC,iBAAiB,CAAC,qCAAqC,YAAY,YAAY,eAAe,CAAC,qCAAqC,kBAAkB,WAAW,QAAQ,WAAW,UAAU,SAAS,CAAC,2CAA2C,UAAU,QAAQ,aAAa,CAAC,8BAA8B,UAAU,CAAC,2CAA2C,YAAY,CAAC,4CAA4C,sBAAsB,CAAC",file:"cards-form.vue",sourcesContent:[".completer-row{margin-bottom:10px}.completer-row .selectize-control{height:34px}.completer-row .selectize-dropdown{position:absolute}.completer-row .input-group-btn .btn{border:none;height:34px;border-radius:0}.dataset-card-container button.close{position:relative;right:10px;top:5px;z-index:15;color:red;opacity:1}.dataset-card-container button.close:hover{right:8px;top:2px;font-size:2em}.dataset-card-container.ghost{opacity:.5}.dataset-card-container.ghost button.close{display:none}.dataset-card-container.ghost .dataset-card{border:2px dashed gray}"],sourceRoot:"webpack://"}])},1436:function(e,t){e.exports=' <div> <div class="row completer-row"> <div class="col-lg-10 col-lg-offset-1"> <div class=input-group> <span class=input-group-addon> <span class="fa fa-cubes"></span> </span> <completer v-ref:completer></completer> </div> </div> </div> <div class=row v-show=!datasets.length> <p class="lead text-center">{{ _(\'No related datasets\') }}</p> </div> <div class=row v-el:sortable v-show=datasets.length> <div class="col-md-6 dataset-card-container" v-for="datasetid in datasets | ids" :data-id=datasetid> <button type=button class=close @click=on_remove(datasetid)> <span aria-hidden=true>&times;</span> <span class=sr-only v-i18n=Remove></span> </button> <card :datasetid=datasetid></card> </div> </div> </div> '},1441:[1765,1445,1429,1436],1445:[1788,1433],1459:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1318),o=_interopRequireDefault(i),r=n(141),a=_interopRequireDefault(r),s=n(1367),l=_interopRequireDefault(s);t.default={name:"reuses-cards-form",mixins:[o.default],components:{Card:a.default,Completer:l.default},props:{reuses:{type:Array,default:function(){return[]}}},events:{"completer:item-add":function(e,t){return t.remove(),this.reuses.push(e),this.$dispatch("reuse-card-list:add",e),!0}},methods:{on_remove:function(e){this.reuses.splice(this.reuses.indexOf(e),1),this.$dispatch("reuse-card-list:remove",e)}},sortable:{draggable:".reuse-card-container",ghostClass:"ghost"}}},1461:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1392),o=_interopRequireDefault(i),r=n(1247),a=_interopRequireDefault(r);t.default={name:"topic-form",components:{VerticalForm:a.default},props:{topic:{type:o.default,default:function(){return new o.default}},hideNotifications:!1},data:function(){return{fields:[{id:"name",label:this._("Name")},{id:"description",label:this._("Description")},{id:"tags",label:this._("Tags"),widget:"tag-completer"},{id:"featured",label:this._("Featured")}]}},methods:{serialize:function(){return this.$refs.form.serialize()},validate:function(){var e=this.$refs.form.validate();return e&!this.hideNotifications&&this.$dispatch("notify",{autoclose:!0,title:this._("Changes saved"),details:this._("Your topic has been updated.")}),e}}}},1467:function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".completer-row{margin-bottom:10px}.completer-row .selectize-control{height:34px}.completer-row .selectize-dropdown{position:absolute}.completer-row .input-group-btn .btn{border:none;height:34px;border-radius:0}.reuse-card-container button.close{position:relative;right:10px;top:5px;z-index:15;color:red;opacity:1}.reuse-card-container button.close:hover{right:8px;top:2px;font-size:2em}.reuse-card-container.ghost{opacity:.5}.reuse-card-container.ghost button.close{display:none}.reuse-card-container.ghost .reuse-card{border:2px dashed gray}","",{version:3,sources:["/./js/components/reuse/cards-form.vue"],names:[],mappings:"AAAA,eAAe,kBAAkB,CAAC,kCAAkC,WAAW,CAAC,mCAAmC,iBAAiB,CAAC,qCAAqC,YAAY,YAAY,eAAe,CAAC,mCAAmC,kBAAkB,WAAW,QAAQ,WAAW,UAAU,SAAS,CAAC,yCAAyC,UAAU,QAAQ,aAAa,CAAC,4BAA4B,UAAU,CAAC,yCAAyC,YAAY,CAAC,wCAAwC,sBAAsB,CAAC",file:"cards-form.vue",sourcesContent:[".completer-row{margin-bottom:10px}.completer-row .selectize-control{height:34px}.completer-row .selectize-dropdown{position:absolute}.completer-row .input-group-btn .btn{border:none;height:34px;border-radius:0}.reuse-card-container button.close{position:relative;right:10px;top:5px;z-index:15;color:red;opacity:1}.reuse-card-container button.close:hover{right:8px;top:2px;font-size:2em}.reuse-card-container.ghost{opacity:.5}.reuse-card-container.ghost button.close{display:none}.reuse-card-container.ghost .reuse-card{border:2px dashed gray}"],sourceRoot:"webpack://"}])},1477:function(e,t){e.exports=' <div class="row completer-row"> <div class="col-lg-10 col-lg-offset-1"> <div class=input-group> <span class=input-group-addon> <span class="fa fa-retweet"></span> </span> <completer v-ref:completer></completer> </div> </div> </div> <div class=row v-show=!reuses.length> <p class="lead text-center">{{ _(\'No related reuses\') }}</p> </div> <div class=row v-el:sortable v-show=reuses.length> <div class="col-md-6 reuse-card-container" v-for="reuseid in reuses | ids" :data-id=reuseid> <button type=button class=close @click=on_remove(reuseid)> <span aria-hidden=true>&times;</span> <span class=sr-only v-i18n=Remove></span> </button> <card :reuseid=reuseid></card> </div> </div> '},1479:function(e,t){e.exports=" <div> <vertical-form v-ref:form :fields=fields :model=topic></vertical-form> </div> "},1491:[1765,1499,1459,1477],1493:function(e,t,n){var i,o;i=n(1461),o=n(1479),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},1499:[1788,1467],1588:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(124),o=_interopRequireDefault(i),r=n(1392),a=_interopRequireDefault(r),s=n(1355),l=_interopRequireDefault(s),d=n(1493),c=_interopRequireDefault(d),u=n(1441),p=_interopRequireDefault(u),h=n(1491),f=_interopRequireDefault(h);t.default={
name:"topic-wizard",components:{Wizard:l.default},data:function(){var e=this;return{topic:new a.default,steps:[{label:this._("Writing"),subtitle:this._("Write your topic"),component:c.default,next:function(t){if(t.$refs.form.validate())return(0,o.default)(e.topic,t.$refs.form.serialize()),e.topic.save(),!0}},{label:this._("Datasets"),subtitle:this._("Add some related datasets"),component:p.default,next:function(t){return e.topic.datasets=t.datasets,e.topic.save(),!0}},{label:this._("Reuses"),subtitle:this._("Add some related reuses"),component:f.default,next:function(t){return e.topic.reuses=t.reuses,e.topic.save(),!0}}]}},events:{"wizard:next-step":function(){this.$refs.wizard.go_next()},"wizard:previous-step":function(){this.$refs.wizard.go_previous()},"wizard:step-changed":function(){this.$refs.wizard.$refs.content.topic=this.topic},"wizard:finish":function(){this.$go({name:"topic",params:{oid:this.topic.id}})}}}},1684:function(e,t){e.exports=" <div> <wizard v-ref:wizard :steps=steps :finish=true :title=\"_('New topic')\"></wizard> </div> "},1765:function(e,t,n,i,o,r){var a,s;n(i),a=n(o),s=n(r),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},1788:function(e,t,n,i){var o=n(i);"string"==typeof o&&(o=[[e.id,o,""]]);n(13)(o,{sourceMap:!0});o.locals&&(e.exports=o.locals)}});
//# sourceMappingURL=21.0d1b70e5ca1faa84856b.js.map